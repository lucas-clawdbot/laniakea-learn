<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Laniakea Mastery Course</title>
  <style>
    :root {
      --bg: #0a0a0f;
      --bg-card: #12121a;
      --bg-hover: #1a1a25;
      --accent: #6366f1;
      --accent-dim: #4f46e5;
      --text: #e2e8f0;
      --text-dim: #94a3b8;
      --success: #22c55e;
      --warning: #f59e0b;
      --error: #ef4444;
      --border: #2d2d3a;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      min-height: 100vh;
    }
    .container { max-width: 1000px; margin: 0 auto; padding: 2rem; }
    header { text-align: center; padding: 2rem 0; border-bottom: 1px solid var(--border); margin-bottom: 2rem; }
    header h1 {
      font-size: 2.5rem;
      background: linear-gradient(135deg, var(--accent), #a855f7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    header p { color: var(--text-dim); margin-top: 0.5rem; }
    .progress-container {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }
    .progress-header { display: flex; justify-content: space-between; margin-bottom: 0.5rem; }
    .progress-bar { background: var(--bg); border-radius: 10px; height: 12px; overflow: hidden; }
    .progress-fill {
      background: linear-gradient(90deg, var(--accent), #a855f7);
      height: 100%;
      transition: width 0.5s ease;
    }
    .stats { display: flex; gap: 2rem; margin-top: 1rem; font-size: 0.9rem; color: var(--text-dim); }
    .stat-value { color: var(--accent); font-weight: 600; }
    .nav-tabs {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 2rem;
      padding: 1rem;
      background: var(--bg-card);
      border-radius: 12px;
      border: 1px solid var(--border);
    }
    .nav-tab {
      padding: 0.75rem 1.25rem;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-dim);
      cursor: pointer;
      transition: all 0.2s;
      font-size: 0.9rem;
    }
    .nav-tab:hover { background: var(--bg-hover); color: var(--text); }
    .nav-tab.active { background: var(--accent); color: white; border-color: var(--accent); }
    .nav-tab.completed { border-color: var(--success); }
    .nav-tab.completed::after { content: ' âœ“'; color: var(--success); }
    .module { display: none; animation: fadeIn 0.3s ease; }
    .module.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .module-header {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
    }
    .module-header h2 { font-size: 1.75rem; margin-bottom: 0.5rem; }
    .module-header p { color: var(--text-dim); }
    .content-section {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
    }
    .content-section h1, .content-section h2, .content-section h3 { margin: 1.5rem 0 1rem; color: var(--accent); }
    .content-section h1 { font-size: 1.5rem; }
    .content-section h2 { font-size: 1.25rem; }
    .content-section h3 { font-size: 1.1rem; }
    .content-section p { margin: 1rem 0; }
    .content-section ul, .content-section ol { margin: 1rem 0 1rem 2rem; }
    .content-section li { margin: 0.5rem 0; }
    .content-section code {
      background: var(--bg);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-family: 'SF Mono', monospace;
      font-size: 0.9em;
    }
    .content-section pre {
      background: var(--bg);
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1rem 0;
    }
    .content-section table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }
    .content-section th, .content-section td {
      padding: 0.75rem;
      border: 1px solid var(--border);
      text-align: left;
    }
    .content-section th { background: var(--bg); }
    .quiz-section {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
    }
    .quiz-section h3 {
      font-size: 1.25rem;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .quiz-section h3::before { content: 'ğŸ“'; }
    .question {
      background: var(--bg);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .question-text { font-weight: 500; margin-bottom: 1rem; }
    .question-num { color: var(--accent); margin-right: 0.5rem; }
    .options { display: flex; flex-direction: column; gap: 0.5rem; }
    .option {
      padding: 1rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .option:hover { border-color: var(--accent); background: var(--bg-hover); }
    .option.selected { border-color: var(--accent); background: rgba(99, 102, 241, 0.1); }
    .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.1); }
    .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.1); }
    .option.disabled { pointer-events: none; opacity: 0.7; }
    .quiz-result {
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 1rem;
      text-align: center;
      display: none;
    }
    .quiz-result.show { display: block; }
    .quiz-result.pass { background: rgba(34, 197, 94, 0.1); border: 1px solid var(--success); }
    .quiz-result.fail { background: rgba(239, 68, 68, 0.1); border: 1px solid var(--error); }
    .btn {
      padding: 0.75rem 1.5rem;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s;
    }
    .btn:hover { background: var(--accent-dim); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .btn-outline {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
    }
    .btn-outline:hover { background: var(--bg-hover); }
    .module-nav { display: flex; justify-content: space-between; margin-top: 2rem; }
    .quiz-progress {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .quiz-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--border);
    }
    .quiz-dot.answered { background: var(--accent); }
    .quiz-dot.correct { background: var(--success); }
    .quiz-dot.incorrect { background: var(--error); }
    .last-updated {
      text-align: center;
      color: var(--text-dim);
      font-size: 0.85rem;
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 1px solid var(--border);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸŒŒ Laniakea Mastery Course</h1>
      <p>Master the Sky ecosystem's infrastructure upgrade</p>
    </header>
    
    <div class="progress-container">
      <div class="progress-header">
        <span>Course Progress</span>
        <span id="progress-text">0%</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
      </div>
      <div class="stats">
        <div class="stat">Modules: <span class="stat-value" id="modules-completed">0</span>/7</div>
        <div class="stat">Questions: <span class="stat-value" id="questions-answered">0</span>/70</div>
        <div class="stat">Score: <span class="stat-value" id="current-score">0</span>%</div>
      </div>
    </div>
    
    <nav class="nav-tabs">
      
        <button class="nav-tab active" data-module="intro" onclick="showModule('intro')">
          1. Introduction to Laniakea
        </button>
      
        <button class="nav-tab" data-module="whitepaper" onclick="showModule('whitepaper')">
          2. Sky Whitepaper
        </button>
      
        <button class="nav-tab" data-module="risk" onclick="showModule('risk')">
          3. Risk Framework
        </button>
      
        <button class="nav-tab" data-module="contracts" onclick="showModule('contracts')">
          4. Smart Contracts
        </button>
      
        <button class="nav-tab" data-module="governance" onclick="showModule('governance')">
          5. Governance & Operations
        </button>
      
        <button class="nav-tab" data-module="legal" onclick="showModule('legal')">
          6. Legal & Trading
        </button>
      
        <button class="nav-tab" data-module="forecast" onclick="showModule('forecast')">
          7. Forecast Model
        </button>
      
    </nav>
    
    
      <div class="module active" id="module-intro">
        <div class="module-header">
          <h2>Module 1: Introduction to Laniakea</h2>
          <p>10 quiz questions â€¢ Estimated 15-20 min</p>
        </div>
        
        <div class="content-section">
          <h1>Sky Ecosystem Documentation â€” Laniakea Upgrade</h1>
<p>Technical documentation for Sky Ecosystem and the Laniakea upgrade â€” a comprehensive infrastructure overhaul rolling out through 2026.</p>
<h2>What is Laniakea?</h2>
<p>Laniakea is Sky&#39;s infrastructure for <strong>automated capital deployment at scale</strong>. It introduces:</p>
<ul>
<li><strong>Unified capital flow architecture</strong> â€” Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited</li>
<li><strong>Scientific risk management</strong> â€” Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability</li>
<li><strong>Autonomous operation</strong> â€” Sentinel network operates infrastructure within governance-defined bounds, enabling 99% automation</li>
<li><strong>Weekly settlement cycles</strong> â€” Standardized Tue-Wed cycles for auctions, distributions, and LCTS token settlement</li>
</ul>
<p>This repository provides a complete view of all future Laniakea upgrades alongside current Sky Ecosystem parameters and features.</p>
<h2>Using This Repository</h2>
<p>This documentation is designed for navigation with <strong>code LLMs</strong> (Claude Code, Cursor, etc.). The information density and cross-references between documents make AI assistance valuable for efficiently traversing the content.</p>
<p><strong>Getting started:</strong></p>
<ul>
<li>Read the whitepaper for the narrative overview</li>
<li>Explore specific directories for technical depth</li>
<li>Use your AI assistant to search across documents and trace concepts</li>
</ul>
<h2>Contents</h2>
<h3>whitepaper/</h3>
<p>The public-facing narrative wrapper around the Laniakea system.</p>
<table>
<thead>
<tr>
<th>Document</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>sky-whitepaper.md</td>
<td>Main 8-part document covering business model, history, tokens, agents, risk, and governance</td>
</tr>
<tr>
<td>appendix-a-protocol-features.md</td>
<td>Exhaustive list of Sky Core mechanisms</td>
</tr>
<tr>
<td>appendix-b-sky-agent-framework-primitives.md</td>
<td>Sky Agent Framework capabilities (Primes, Halos, Executors)</td>
</tr>
<tr>
<td>appendix-c-treasury-management-function.md</td>
<td>Complete TMF waterfall specification</td>
</tr>
<tr>
<td>appendix-d-tokens.md</td>
<td>Complete token reference (USDS, sUSDS, SKY, stUSDS, and agent tokens)</td>
</tr>
<tr>
<td>appendix-e-design-rationale.md</td>
<td>Q&amp;A explaining critical design decisions</td>
</tr>
<tr>
<td>appendix-f-glossary.md</td>
<td>Term definitions</td>
</tr>
<tr>
<td>appendix-g-infrastructure.md</td>
<td>Deployed contracts, bridges, and legacy systems</td>
</tr>
</tbody></table>
<h3>risk-framework/</h3>
<p>Basel III-inspired capital requirements framework. Core principle: <strong>Capital Requirement = Drawdown Magnitude Ã— Forced Realization Probability</strong></p>
<table>
<thead>
<tr>
<th>Document</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>README.md</td>
<td>Framework overview and module map</td>
</tr>
<tr>
<td>duration-model.md</td>
<td>Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps</td>
</tr>
<tr>
<td>asset-classification.md</td>
<td>Asset characteristics, fundamental risk, drawdown risk, SPTP</td>
</tr>
<tr>
<td>matching.md</td>
<td>Rate risk vs credit spread risk, duration matching eligibility</td>
</tr>
<tr>
<td>asset-type-treatment.md</td>
<td>Worked treatments for TradFi, crypto, hybrid assets</td>
</tr>
<tr>
<td>collateralized-lending-risk.md</td>
<td>Jump-to-default and liquidation loss (gap risk)</td>
</tr>
<tr>
<td>market-risk-frtb.md</td>
<td>FRTB-style drawdown treatment for unmatched liquid assets</td>
</tr>
<tr>
<td>asc.md</td>
<td>Actively Stabilizing Collateral requirements</td>
</tr>
<tr>
<td>capital-formula.md</td>
<td>Capital formulas and computation flow</td>
</tr>
<tr>
<td>correlation-framework.md</td>
<td>Category caps and capacity rights</td>
</tr>
<tr>
<td>risk-capital-ingression.md</td>
<td>How external capital is recognized on Prime balance sheets</td>
</tr>
<tr>
<td>tugofwar.md</td>
<td>Capacity allocation when reservations exceed availability</td>
</tr>
<tr>
<td>weekly-settlement-cycle.md</td>
<td>Settlement timing and processes</td>
</tr>
<tr>
<td>sentinel-integration.md</td>
<td>Output metrics and Sentinel integration</td>
</tr>
<tr>
<td>examples.md</td>
<td>Current vs proposed examples</td>
</tr>
</tbody></table>
<h3>smart-contracts/</h3>
<p>Laniakea smart contract architecture built on the <strong>PAU pattern</strong> (Parallelized Allocation Unit).</p>
<table>
<thead>
<tr>
<th>Document</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>architecture-overview.md</td>
<td>Four-layer capital flow (Generator â†’ Prime â†’ Halo â†’ RWA), PAU pattern, modular design</td>
</tr>
<tr>
<td>configurator-unit.md</td>
<td>Governance layer: BEAM hierarchy (aBEAM/cBEAM/pBEAM), rate limits, SORL</td>
</tr>
<tr>
<td>lcts.md</td>
<td>Liquidity Constrained Token Standard â€” queue-based tokens for fair capacity distribution</td>
</tr>
</tbody></table>
<h3>governance-operations/</h3>
<p>Governance structure and autonomous operational infrastructure.</p>
<table>
<thead>
<tr>
<th>Document</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>sentinel-network.md</td>
<td>Autonomous agents (Sentinels) operating infrastructure: taxonomy, interfaces, toolkit</td>
</tr>
<tr>
<td>atlas-synome-separation.md</td>
<td>Two-layer split: Atlas (human-readable constitution) + Synome (machine-readable database)</td>
</tr>
</tbody></table>
<h3>legal-and-trading/</h3>
<p>Trading infrastructure, compliance frameworks, and institutional integration.</p>
<table>
<thead>
<tr>
<th>Document</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>passthrough-halo.md</td>
<td>Standardized wrapper enabling rapid RWA product launch with immediate capital</td>
</tr>
<tr>
<td>identity-network.md</td>
<td>KYC/identity verification as a Halo type â€” on-chain registry of verified addresses</td>
</tr>
<tr>
<td>sky-intents.md</td>
<td>Intent-based trading protocol: fair matching, no MEV, permissioned trading</td>
</tr>
</tbody></table>
<h3>input-documents/</h3>
<p>Community contribution directory. Submit PRs with corrections, suggestions, questions, or new information.</p>
<h2>Contributing</h2>
<p>This repository is public to invite contributions from Sky Ecosystem community members.</p>
<p><strong>How to contribute:</strong></p>
<ol>
<li>Create a pull request adding a new file to the <code>input-documents/</code> directory</li>
<li>Your input document can contain: corrections, new information, opinions, context, questions, or suggestions</li>
<li>Contributors with write access will review and merge relevant content into the core documentation</li>
</ol>
<p>See <code>input-documents/README.md</code> for guidelines.</p>
<h2>Status</h2>
<p>These documents are drafts under active development. Content may change as the protocol evolves.</p>
<h2>Links</h2>
<ul>
<li><a href="https://sky.money">Sky Ecosystem</a></li>
<li><a href="https://forum.sky.money">Sky Forum</a></li>
</ul>

        </div>
        
        <div class="quiz-section">
          <h3>Module Quiz (10 Questions)</h3>
          <div class="quiz-progress" id="quiz-progress-intro">
            <div class="quiz-dot" data-q="0"></div><div class="quiz-dot" data-q="1"></div><div class="quiz-dot" data-q="2"></div><div class="quiz-dot" data-q="3"></div><div class="quiz-dot" data-q="4"></div><div class="quiz-dot" data-q="5"></div><div class="quiz-dot" data-q="6"></div><div class="quiz-dot" data-q="7"></div><div class="quiz-dot" data-q="8"></div><div class="quiz-dot" data-q="9"></div>
          </div>
          
          
            <div class="question" id="q-intro-0">
              <div class="question-text">
                <span class="question-num">Q1.</span> What is Technical documentation for Sky Ecosystem and the Laniakea upgrade?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('intro', 0, 'A deprecated feature from the old system', 'a comprehensive infrastructure overhaul rolling out through 2026.')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="a comprehensive infrastructure overhaul rolling out through 2026." onclick="selectAnswer('intro', 0, 'a comprehensive infrastructure overhaul rolling out through 2026.', 'a comprehensive infrastructure overhaul rolling out through 2026.')">a comprehensive infrastructure overhaul rolling out through 2026.</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('intro', 0, 'A temporary measure during the transition period', 'a comprehensive infrastructure overhaul rolling out through 2026.')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('intro', 0, 'An external integration point for third parties', 'a comprehensive infrastructure overhaul rolling out through 2026.')">An external integration point for third parties</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-intro-1">
              <div class="question-text">
                <span class="question-num">Q2.</span> What is Unified capital flow architecture**?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('intro', 1, 'A temporary measure during the transition period', 'Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited" onclick="selectAnswer('intro', 1, 'Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited', 'Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited')">Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('intro', 1, 'An external integration point for third parties', 'Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('intro', 1, 'A deprecated feature from the old system', 'Capital flows from Sky Core â†’ Primes â†’ Halos â†’ end investments, with every flow rate-limited')">A deprecated feature from the old system</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-intro-2">
              <div class="question-text">
                <span class="question-num">Q3.</span> What is Scientific risk management**?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('intro', 2, 'A temporary measure during the transition period', 'Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('intro', 2, 'An external integration point for third parties', 'Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('intro', 2, 'A deprecated feature from the old system', 'Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability" onclick="selectAnswer('intro', 2, 'Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability', 'Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability')">Basel III-inspired framework determining capital requirements based on asset duration and forced realization probability</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-intro-3">
              <div class="question-text">
                <span class="question-num">Q4.</span> "automated capital deployment at scale" is a key concept in the Laniakea Introduction to Laniakea system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('intro', 3, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('intro', 3, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-intro-4">
              <div class="question-text">
                <span class="question-num">Q5.</span> "Unified capital flow architecture" is a key concept in the Laniakea Introduction to Laniakea system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('intro', 4, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('intro', 4, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-intro-5">
              <div class="question-text">
                <span class="question-num">Q6.</span> "Scientific risk management" is a key concept in the Laniakea Introduction to Laniakea system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('intro', 5, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('intro', 5, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-intro-6">
              <div class="question-text">
                <span class="question-num">Q7.</span> Complete: **Scientific risk management** â€” Basel III-inspired framework determining capital ______ based on asset duration and forced realization probability
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('intro', 6, 'settlement', 'requirements')">settlement</div>
                  
                    <div class="option" data-value="requirements" onclick="selectAnswer('intro', 6, 'requirements', 'requirements')">requirements</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('intro', 6, 'liquidity', 'requirements')">liquidity</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('intro', 6, 'governance', 'requirements')">governance</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('intro', 6, 'protocol', 'requirements')">protocol</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-intro-7">
              <div class="question-text">
                <span class="question-num">Q8.</span> Complete: **Autonomous operation** â€” Sentinel network operates ______ within governance-defined bounds, enabling 99% automation
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="infrastructure" onclick="selectAnswer('intro', 7, 'infrastructure', 'infrastructure')">infrastructure</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('intro', 7, 'governance', 'infrastructure')">governance</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('intro', 7, 'settlement', 'infrastructure')">settlement</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('intro', 7, 'protocol', 'infrastructure')">protocol</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('intro', 7, 'liquidity', 'infrastructure')">liquidity</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-intro-8">
              <div class="question-text">
                <span class="question-num">Q9.</span> Which of these is a major component of the Introduction to Laniakea?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="What is Laniakea?" onclick="selectAnswer('intro', 8, 'What is Laniakea?', 'What is Laniakea?')">What is Laniakea?</div>
                  
                    <div class="option" data-value="External Audit Framework" onclick="selectAnswer('intro', 8, 'External Audit Framework', 'What is Laniakea?')">External Audit Framework</div>
                  
                    <div class="option" data-value="Legacy Migration Protocol" onclick="selectAnswer('intro', 8, 'Legacy Migration Protocol', 'What is Laniakea?')">Legacy Migration Protocol</div>
                  
                    <div class="option" data-value="Manual Override System" onclick="selectAnswer('intro', 8, 'Manual Override System', 'What is Laniakea?')">Manual Override System</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-intro-9">
              <div class="question-text">
                <span class="question-num">Q10.</span> What is the primary purpose of the Introduction to Laniakea?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="To provide backward compatibility with Maker" onclick="selectAnswer('intro', 9, 'To provide backward compatibility with Maker', 'To define and implement introduction to laniakea mechanisms for the Sky ecosystem')">To provide backward compatibility with Maker</div>
                  
                    <div class="option" data-value="To replace the existing governance structure entirely" onclick="selectAnswer('intro', 9, 'To replace the existing governance structure entirely', 'To define and implement introduction to laniakea mechanisms for the Sky ecosystem')">To replace the existing governance structure entirely</div>
                  
                    <div class="option" data-value="To define and implement introduction to laniakea mechanisms for the Sky ecosystem" onclick="selectAnswer('intro', 9, 'To define and implement introduction to laniakea mechanisms for the Sky ecosystem', 'To define and implement introduction to laniakea mechanisms for the Sky ecosystem')">To define and implement introduction to laniakea mechanisms for the Sky ecosystem</div>
                  
                    <div class="option" data-value="To enable manual intervention in all operations" onclick="selectAnswer('intro', 9, 'To enable manual intervention in all operations', 'To define and implement introduction to laniakea mechanisms for the Sky ecosystem')">To enable manual intervention in all operations</div>
                  
                
              </div>
            </div>
          
          
          <div class="quiz-result" id="result-intro">
            <h4 id="result-title-intro"></h4>
            <p id="result-text-intro"></p>
          </div>
        </div>
        
        <div class="module-nav">
          <div></div>
          <button class="btn" onclick="showModule('whitepaper')">Next Module â†’</button>
        </div>
      </div>
    
      <div class="module" id="module-whitepaper">
        <div class="module-header">
          <h2>Module 2: Sky Whitepaper</h2>
          <p>10 quiz questions â€¢ Estimated 15-20 min</p>
        </div>
        
        <div class="content-section">
          <h2>README</h2>
<h1>Sky Whitepaper</h1>
<p><strong>Status:</strong> Draft</p>
<h2>Files</h2>
<table>
<thead>
<tr>
<th>File</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>sky-whitepaper.md</code></td>
<td>Main whitepaper document (Parts 1-8)</td>
</tr>
<tr>
<td><code>appendix-a-protocol-features.md</code></td>
<td>Exhaustive list of Sky Core mechanisms</td>
</tr>
<tr>
<td><code>appendix-b-sky-agent-framework-primitives.md</code></td>
<td>Sky Agent Framework primitives and capabilities</td>
</tr>
<tr>
<td><code>appendix-c-treasury-management-function.md</code></td>
<td>Treasury Management Function waterfall</td>
</tr>
<tr>
<td><code>appendix-d-tokens.md</code></td>
<td>Complete token reference (core + agent framework)</td>
</tr>
<tr>
<td><code>appendix-e-design-rationale.md</code></td>
<td>Protocol design rationale</td>
</tr>
<tr>
<td><code>appendix-f-glossary.md</code></td>
<td>Term definitions</td>
</tr>
<tr>
<td><code>appendix-g-infrastructure.md</code></td>
<td>Deployed contracts, bridges, legacy systems</td>
</tr>
</tbody></table>
<h2>Strategy</h2>
<p>This README is the canonical whitepaper strategy and checklist.</p>
<p>Deprecated strategy docs exist for historical context, but are not part of the distributed <code>active/</code> document set.</p>
<p><strong>Core Messaging:</strong></p>
<ul>
<li>World&#39;s largest decentralized stablecoin protocol (9B+ USDS)</li>
<li>$300B opportunity: idle stablecoins wanting yield</li>
<li>75%+ of profits to SKY holders</li>
<li>Basel III-inspired risk framework</li>
</ul>
<p><strong>Main Document Structure:</strong></p>
<ol>
<li>The Hook â€” scale, opportunity, profit share</li>
<li>Brief History â€” MakerDAO to Sky</li>
<li>How Sky Makes Money â€” stablecoin business model</li>
<li>Token System â€” USDS, sUSDS, SKY</li>
<li>Agent Framework â€” capital deployment hierarchy</li>
<li>Risk Management â€” capital requirements</li>
<li>Growth Vectors â€” multi-chain, Generators</li>
<li>Governance â€” brief overview</li>
</ol>
<p><strong>Key Principles:</strong></p>
<ul>
<li>Lead with value, not architecture</li>
<li>Familiar before novel</li>
<li>Progressive disclosure</li>
<li>Institutional language</li>
</ul>
<h2>Review Checklist</h2>
<ul>
<li>&quot;Sky Ecosystem&quot; vs &quot;Sky Protocol&quot; used consistently</li>
<li>Decentralization claims are precise (no implied guarantees)</li>
<li>Governance-dependent items qualified (e.g., &quot;under current parameters&quot;)</li>
<li>No investment advice or profit guarantees</li>
<li>No forward-looking yield numbers (historical only, dated)</li>
<li>Forward-looking statements labeled as expectations/plans</li>
</ul>
<h2>appendix-a-protocol-features</h2>
<h1>Appendix A: Protocol Features</h1>
<p>Exhaustive list of Sky Core mechanisms. Together with Appendix B (Agent Primitives), this provides complete coverage of every mechanism in Sky Ecosystem.</p>
<hr>
<h2>Core Tokens</h2>
<h3>SKY</h3>
<p>The community governance token for Sky Ecosystem.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Total Supply</td>
<td>23.46 billion SKY</td>
</tr>
<tr>
<td>Emissions</td>
<td>Permanently disabled (no new minting except emergency recapitalization)</td>
</tr>
<tr>
<td>Conversion Rate</td>
<td>24,000 SKY = 1 MKR</td>
</tr>
<tr>
<td>Upgrade Penalty</td>
<td>Increases 1% per quarter for unclaimed MKR to drive migration</td>
</tr>
</tbody></table>
<p><strong>Functions:</strong></p>
<ul>
<li>Governance voting power (when staked)</li>
<li>Staking rewards recipient (SSTR)</li>
<li>Collateral for SKY-backed borrowing</li>
<li>Deflationary via Smart Burn Engine buyback/burn</li>
</ul>
<p><strong>Supply Dynamics:</strong></p>
<ul>
<li>~14% of original MKR supply remains unclaimed post-migration</li>
<li>1% quarterly burn of SKY backing unclaimed MKR (~24 year burn schedule)</li>
<li>Continuous buyback/burn from protocol surplus via Smart Burn Engine</li>
</ul>
<hr>
<h3>USDS</h3>
<p>The primary stablecoin of Sky Ecosystem.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Peg</td>
<td>1:1 USD</td>
</tr>
<tr>
<td>Supply</td>
<td>$9.86 billion (December 2025)</td>
</tr>
<tr>
<td>Standard</td>
<td>ERC-20</td>
</tr>
<tr>
<td>Backing</td>
<td>Overcollateralized by crypto assets, Treasuries, and credit positions</td>
</tr>
</tbody></table>
<p><strong>Key Characteristics:</strong></p>
<ul>
<li>1:1 convertible with DAI (upgrade path)</li>
<li>Can be deposited to receive sUSDS (yield-bearing)</li>
<li>Freely transferable and composable with DeFi protocols</li>
<li>Available on Ethereum mainnet + L2s/L1s via SkyLink</li>
<li>Decentralized yield-generating stablecoin focused on capital formation (not a payment stablecoin)</li>
</ul>
<hr>
<h3>sUSDS</h3>
<p>The savings token representing USDS deposits earning the Sky Savings Rate.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Standard</td>
<td>ERC-4626 vault</td>
</tr>
<tr>
<td>Yield Mechanism</td>
<td>Exchange rate increases continuously at Sky Savings Rate</td>
</tr>
<tr>
<td>Lock-up</td>
<td>None â€” freely redeemable at any time</td>
</tr>
<tr>
<td>Multi-chain</td>
<td>Earns yield on all supported chains via SkyLink</td>
</tr>
</tbody></table>
<p><strong>How It Works:</strong></p>
<ol>
<li>User deposits USDS into savings contract</li>
<li>User receives sUSDS tokens at current exchange rate</li>
<li>Exchange rate increases over time as yield accrues</li>
<li>User redeems sUSDS for increased amount of USDS</li>
</ol>
<hr>
<h3>stUSDS</h3>
<p>Segregated junior risk capital token for SKY-backed borrowing.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Purpose</td>
<td>Fund SKY-backed borrowing; absorb SKY liquidation losses</td>
</tr>
<tr>
<td>Yield</td>
<td>Higher than sUSDS (compensates for haircut risk)</td>
</tr>
<tr>
<td>Risk</td>
<td>Exchange rate can decrease via haircuts if SKY liquidations fail</td>
</tr>
<tr>
<td>Debt Ceiling</td>
<td>Dynamic â€” equals total stUSDS deposits</td>
</tr>
</tbody></table>
<p><strong>Risk Isolation Model:</strong></p>
<ul>
<li>Protocol isolated from SKY collateral losses</li>
<li>stUSDS holders explicitly accept downside risk</li>
<li>Losses absorbed by stUSDS before any impact to main protocol</li>
<li>Higher yield compensates for additional risk</li>
</ul>
<p><strong>Dynamic Debt Ceiling:</strong></p>
<pre><code>Max SKY-Backed Debt = Total USDS in stUSDS Contract
</code></pre>
<ul>
<li>No manual ceiling adjustments needed</li>
<li>Ceiling scales automatically with stUSDS deposits</li>
<li>Market-driven capacity limits</li>
</ul>
<hr>
<h3>srUSDS (Planned)</h3>
<p>Senior risk capital token providing global backing for all USDS.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Purpose</td>
<td>Global senior risk capital for USDS; backs all protocol exposure</td>
</tr>
<tr>
<td>Standard</td>
<td>LCTS-based (queue settlement)</td>
</tr>
<tr>
<td>Risk Profile</td>
<td>Lower risk than JRC; absorbs losses only after JRC depleted</td>
</tr>
<tr>
<td>Settlement</td>
<td>Weekly queue processing (deposit/redemption)</td>
</tr>
<tr>
<td>Status</td>
<td><strong>Planned</strong></td>
</tr>
</tbody></table>
<p><strong>Mechanics:</strong></p>
<ul>
<li>Users deposit USDS to deposit queue â†’ converts to srUSDS at settlement</li>
<li>Users add srUSDS to redemption queue â†’ converts back to USDS at settlement</li>
<li>Queue entries can be withdrawn before settlement lock</li>
<li>Conversion rate updated at each settlement based on pool performance</li>
</ul>
<hr>
<h2>SKY Token System</h2>
<h3>SKY Staking</h3>
<p>Stake SKY to earn staking rewards (SSTR) and participate in governance.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Lock-up</td>
<td>None â€” freely unstakeable at any time</td>
</tr>
<tr>
<td>Rewards</td>
<td>Sky Staking Rewards (SSTR)</td>
</tr>
<tr>
<td>Governance</td>
<td>Staked SKY enables voting on governance proposals</td>
</tr>
<tr>
<td>Collateral</td>
<td>Staked SKY can be used as collateral for borrowing</td>
</tr>
</tbody></table>
<p><strong>Staking Flow:</strong></p>
<ol>
<li>User stakes SKY</li>
<li>Receives staking rewards (SSTR) from TMF Step 5</li>
<li>Can delegate voting power to Aligned Delegates</li>
<li>Can use staked SKY as collateral for USDS borrowing</li>
</ol>
<hr>
<h3>SKY-Backed Borrowing</h3>
<p>Use staked SKY as collateral to borrow USDS while continuing to earn staking rewards.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Collateral</td>
<td>Staked SKY</td>
</tr>
<tr>
<td>Borrowed Asset</td>
<td>USDS</td>
</tr>
<tr>
<td>Borrow Rate</td>
<td>Sky Borrow Rate (governance-set, utilization-based)</td>
</tr>
<tr>
<td>Liquidation Ratio</td>
<td>120%</td>
</tr>
<tr>
<td>Risk Capital Source</td>
<td>stUSDS pool (segregated)</td>
</tr>
</tbody></table>
<p><strong>Key Benefits:</strong></p>
<ul>
<li>Continue earning staking rewards while borrowing</li>
<li>Lower effective borrowing cost due to reward offset</li>
<li>No sacrifice of governance participation</li>
<li>Market-driven capacity via stUSDS deposits</li>
</ul>
<hr>
<h3>SKY Voting Delegation</h3>
<p>Delegate voting power to Aligned Delegates while retaining token custody.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Mechanism</td>
<td>Delegate Contracts</td>
</tr>
<tr>
<td>Token Custody</td>
<td>Retained by delegator</td>
</tr>
<tr>
<td>Voting Power</td>
<td>Transferred to Aligned Delegate</td>
</tr>
<tr>
<td>Revocability</td>
<td>Can change or revoke delegation at any time</td>
</tr>
</tbody></table>
<p><strong>Aligned Delegates:</strong></p>
<ul>
<li>Anonymous Alignment Conservers receiving delegated voting power</li>
<li>Ranked by delegated voting power (L1, L2, L3)</li>
<li>Subject to strict operational security and accountability requirements</li>
<li>Receive budget allocations tied to voting activity</li>
</ul>
<hr>
<h3>Smart Burn Engine</h3>
<p>Algorithmic SKY buyback using protocol surplus.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Source</td>
<td>TMF Step 4 allocation (20% Ã— Net Revenue Ratio)</td>
</tr>
<tr>
<td>Mechanism</td>
<td>Programmatic open-market buybacks</td>
</tr>
<tr>
<td>Distribution</td>
<td>Purchased SKY distributed to stakers</td>
</tr>
<tr>
<td>Governance</td>
<td>Parameters subject to change through decentralized governance</td>
</tr>
</tbody></table>
<p><strong>Current Behavior (Temporary):</strong></p>
<ul>
<li>Steps 4 and 5 are currently unified</li>
<li>All funds from both steps used to buyback SKY</li>
<li>All purchased SKY distributed to stakers as yield</li>
</ul>
<p><strong>Planned: Dynamic Burn Rate Formula</strong></p>
<pre><code>Burn Rate = (1 - MC / TMC) Ã— 50%
</code></pre>
<p>Where:</p>
<ul>
<li>MC = Current Market Capitalization</li>
<li>TMC = 8.5 + (200 Ã— growth_rate) Ã— annual_profits</li>
<li>Buys more when price is low, retains capital when high</li>
</ul>
<p><strong>Since February 2025:</strong></p>
<ul>
<li>$92.2 million in SKY repurchased</li>
<li>~6.3% of total supply</li>
</ul>
<hr>
<h2>Savings &amp; Yield</h2>
<h3>Sky Savings Rate (SSR)</h3>
<p>Base yield rate for sUSDS holders.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Recipient</td>
<td>sUSDS holders</td>
</tr>
<tr>
<td>Distribution</td>
<td>Automatic via sUSDS exchange rate increase</td>
</tr>
<tr>
<td>Multi-chain</td>
<td>Same rate on all supported chains via SkyLink</td>
</tr>
</tbody></table>
<p><strong>Rate Setting:</strong></p>
<ul>
<li><strong>Current:</strong> Governance process with risk advisor inputs</li>
<li><strong>Post-Laniakea:</strong> Algorithmic based on USDS price and ASC balance</li>
</ul>
<p>See <a href="#monetary-policy">Monetary Policy</a> for full details.</p>
<hr>
<h3>Staking Rewards (SSTR)</h3>
<p>Yield distributed to SKY stakers from TMF Step 5.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Source</td>
<td>TMF Step 5 (100% of remainder after Steps 1-4)</td>
</tr>
<tr>
<td>Recipient</td>
<td>Staked SKY holders</td>
</tr>
<tr>
<td>Mechanism</td>
<td>SKY buyback distributed to stakers</td>
</tr>
</tbody></table>
<p><strong>Current Phase (Genesis):</strong></p>
<ul>
<li>Primary destination for protocol surplus</li>
<li>Majority of net revenue flows to staking rewards</li>
<li>As revenue scales, more flows to burn and fortification</li>
</ul>
<hr>
<h3>stUSDS Yield</h3>
<p>Higher yield than sUSDS compensating for haircut risk in SKY-backed borrowing.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Base</td>
<td>Sky Savings Rate</td>
</tr>
<tr>
<td>Premium</td>
<td>Utilization-based spread from SKY borrowing</td>
</tr>
<tr>
<td>Risk</td>
<td>Exchange rate can decrease via haircuts</td>
</tr>
<tr>
<td>Target Utilization</td>
<td>90%</td>
</tr>
</tbody></table>
<hr>
<h3>srUSDS Yield (Planned)</h3>
<p>Senior risk capital yield with lower risk profile than junior capital.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Source</td>
<td>Interest on originated Senior Risk Capital</td>
</tr>
<tr>
<td>Deductions</td>
<td>Sky Spread + 5% ESRC Earnings Fee</td>
</tr>
<tr>
<td>Risk</td>
<td>Absorbs losses only after JRC depleted</td>
</tr>
<tr>
<td>Status</td>
<td><strong>Planned</strong></td>
</tr>
</tbody></table>
<hr>
<h2>Risk Capital System</h2>
<h3>stUSDS (Junior Risk Capital)</h3>
<p>Segregated pool backing SKY-backed borrowing; first-loss position for SKY collateral risk.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Position</td>
<td>Junior (first-loss)</td>
</tr>
<tr>
<td>Scope</td>
<td>SKY-backed borrowing only</td>
</tr>
<tr>
<td>Yield</td>
<td>Higher than sUSDS</td>
</tr>
<tr>
<td>Risk</td>
<td>Exchange rate can decrease via haircuts</td>
</tr>
</tbody></table>
<hr>
<h3>srUSDS (Senior Risk Capital) â€” Planned</h3>
<p>Global senior risk capital for all USDS; LCTS-based with queue settlement.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Position</td>
<td>Senior (absorbs after JRC depleted)</td>
</tr>
<tr>
<td>Scope</td>
<td>All USDS exposure globally</td>
</tr>
<tr>
<td>Settlement</td>
<td>Weekly LCTS queue processing</td>
</tr>
<tr>
<td>Status</td>
<td><strong>Planned</strong></td>
</tr>
</tbody></table>
<hr>
<h3>Loss Absorption Waterfall</h3>
<p>Defined sequence for absorbing losses, structured in three tiers.</p>
<pre><code>Loss Event
    â†“
â”Œâ”€â”€â”€ PRIME-LEVEL (per-Prime) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. First Loss Capital (10%)   â”‚  â† Prime&#39;s IJRC absorbs first  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚  2. Remaining JRC (pro-rata)   â”‚  â† IJRC + EJRC proportionally  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚  3. Agent Token Inflation      â”‚  â† Dilute Prime token holders  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚  4. TISRC                      â”‚  â† Prime-isolated SRC          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€ SYSTEM-LEVEL (shared across all Primes) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. Global SRC (srUSDS)        â”‚  â† System-wide senior capital  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚  6. SKY Token Inflation        â”‚  â† Dilute protocol token       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€ NUCLEAR OPTIONS (protocol reserves / peg) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. Genesis Capital Haircut    â”‚  â† Protocol reserves           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚  8. USDS Peg Adjustment        â”‚  â† Final backstop              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<table>
<thead>
<tr>
<th>Step</th>
<th>Capital Layer</th>
<th>Tier</th>
<th>Mechanism</th>
</tr>
</thead>
<tbody><tr>
<td><strong>1</strong></td>
<td>First Loss Capital</td>
<td>Prime</td>
<td>First 10% of IJRC absorbed before any other capital</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>Remaining JRC</td>
<td>Prime</td>
<td>IJRC + EJRC share losses proportionally</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>Agent Token Inflation</td>
<td>Prime</td>
<td>Dilute Prime token holders (potentially to infinity)</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>TISRC</td>
<td>Prime</td>
<td>Prime-isolated senior risk capital</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>Global SRC (srUSDS)</td>
<td>System</td>
<td>Shared senior risk capital pool</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>SKY Token Inflation</td>
<td>System</td>
<td>Dilute SKY holders at protocol level</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>Genesis Capital</td>
<td>Nuclear</td>
<td>Protocol reserves haircut</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>USDS Peg Adjustment</td>
<td>Nuclear</td>
<td>Final backstop â€” affects all USDS holders</td>
</tr>
</tbody></table>
<p><strong>First Loss Capital (FLC):</strong></p>
<ul>
<li>First 10% of Total JRC absorbed solely by Prime&#39;s own capital (IJRC)</li>
<li>Ensures Prime has direct skin in the game for initial losses</li>
<li>Losses beyond FLC allocated pro-rata across remaining JRC (internal + external)</li>
</ul>
<p><strong>Token Inflation Layers:</strong></p>
<ul>
<li>Agent Token Inflation (step 3) dilutes the specific Prime&#39;s token holders</li>
<li>SKY Token Inflation (step 6) dilutes protocol-level token holders</li>
<li>Both can theoretically cover unlimited losses through dilution</li>
</ul>
<p><strong>Nuclear Options:</strong></p>
<ul>
<li>Steps 7-8 should never be reached under normal conditions</li>
<li>Genesis Capital is the protocol&#39;s reserve fund</li>
<li>Peg Adjustment is the absolute last resort, affecting all USDS holders</li>
</ul>
<hr>
<h2>Governance Infrastructure</h2>
<h3>Sky Atlas</h3>
<p>Human-readable governance constitution defining principles, structure, and agent type definitions.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Purpose</td>
<td>Define WHAT must be true: principles, governance structure, rules</td>
</tr>
<tr>
<td>Nature</td>
<td>Human-readable, interpretable</td>
</tr>
<tr>
<td>Modification</td>
<td>Elevated thresholds reflecting constitutional nature</td>
</tr>
</tbody></table>
<p><strong>Document Hierarchy:</strong></p>
<ol>
<li><strong>Immutable Documents</strong>: Scopes, Articles, Sections (locked at Endgame)</li>
<li><strong>Primary Documents</strong>: Core documents, Active Data Controllers, Budget Controllers</li>
<li><strong>Supporting Documents</strong>: Active Data, Budgets, Precedents</li>
<li><strong>Accessory Documents</strong>: Translations, Archives</li>
</ol>
<p><strong>Core Principle: Spirit of the Atlas</strong></p>
<ul>
<li>All rules have underlying intent to serve human values and Universal Alignment</li>
<li>Facilitators interpret Spirit when explicit guidance is absent</li>
<li>Balance between &quot;letter of the rule&quot; and true purpose</li>
</ul>
<hr>
<h3>Sky Synome (Planned)</h3>
<p>Machine-readable operational database containing all parameters, artifacts, and transaction logs.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Purpose</td>
<td>Contain ALL operational data; machine-readable state</td>
</tr>
<tr>
<td>Contents</td>
<td>Agent Artifacts, rate limits, penalty schedules, transaction logs</td>
</tr>
<tr>
<td>Relationship</td>
<td>Atlas is single root node within Synome</td>
</tr>
<tr>
<td>Status</td>
<td><strong>Planned</strong></td>
</tr>
</tbody></table>
<hr>
<h3>Governance Polls</h3>
<p>SKY holder signaling votes; non-binding.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Duration</td>
<td>3 days</td>
</tr>
<tr>
<td>Purpose</td>
<td>Gather consensus</td>
</tr>
</tbody></table>

        </div>
        
        <div class="quiz-section">
          <h3>Module Quiz (10 Questions)</h3>
          <div class="quiz-progress" id="quiz-progress-whitepaper">
            <div class="quiz-dot" data-q="0"></div><div class="quiz-dot" data-q="1"></div><div class="quiz-dot" data-q="2"></div><div class="quiz-dot" data-q="3"></div><div class="quiz-dot" data-q="4"></div><div class="quiz-dot" data-q="5"></div><div class="quiz-dot" data-q="6"></div><div class="quiz-dot" data-q="7"></div><div class="quiz-dot" data-q="8"></div><div class="quiz-dot" data-q="9"></div>
          </div>
          
          
            <div class="question" id="q-whitepaper-0">
              <div class="question-text">
                <span class="question-num">Q1.</span> What is $300B opportunity?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('whitepaper', 0, 'A temporary measure during the transition period', 'idle stablecoins wanting yield')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('whitepaper', 0, 'A deprecated feature from the old system', 'idle stablecoins wanting yield')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="idle stablecoins wanting yield" onclick="selectAnswer('whitepaper', 0, 'idle stablecoins wanting yield', 'idle stablecoins wanting yield')">idle stablecoins wanting yield</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('whitepaper', 0, 'An external integration point for third parties', 'idle stablecoins wanting yield')">An external integration point for third parties</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-1">
              <div class="question-text">
                <span class="question-num">Q2.</span> What is 1. The Hook?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="scale, opportunity, profit share" onclick="selectAnswer('whitepaper', 1, 'scale, opportunity, profit share', 'scale, opportunity, profit share')">scale, opportunity, profit share</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('whitepaper', 1, 'A deprecated feature from the old system', 'scale, opportunity, profit share')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('whitepaper', 1, 'A temporary measure during the transition period', 'scale, opportunity, profit share')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('whitepaper', 1, 'An external integration point for third parties', 'scale, opportunity, profit share')">An external integration point for third parties</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-2">
              <div class="question-text">
                <span class="question-num">Q3.</span> What is 3. How Sky Makes Money?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="stablecoin business model" onclick="selectAnswer('whitepaper', 2, 'stablecoin business model', 'stablecoin business model')">stablecoin business model</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('whitepaper', 2, 'A deprecated feature from the old system', 'stablecoin business model')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('whitepaper', 2, 'An external integration point for third parties', 'stablecoin business model')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('whitepaper', 2, 'A temporary measure during the transition period', 'stablecoin business model')">A temporary measure during the transition period</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-3">
              <div class="question-text">
                <span class="question-num">Q4.</span> "Status:" is a key concept in the Laniakea Sky Whitepaper system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('whitepaper', 3, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('whitepaper', 3, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-4">
              <div class="question-text">
                <span class="question-num">Q5.</span> "Core Messaging:" is a key concept in the Laniakea Sky Whitepaper system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('whitepaper', 4, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('whitepaper', 4, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-5">
              <div class="question-text">
                <span class="question-num">Q6.</span> "Main Document Structure:" is a key concept in the Laniakea Sky Whitepaper system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('whitepaper', 5, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('whitepaper', 5, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-6">
              <div class="question-text">
                <span class="question-num">Q7.</span> Complete: World's largest decentralized ______ protocol (9B+ USDS)
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="stablecoin" onclick="selectAnswer('whitepaper', 6, 'stablecoin', 'stablecoin')">stablecoin</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('whitepaper', 6, 'governance', 'stablecoin')">governance</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('whitepaper', 6, 'settlement', 'stablecoin')">settlement</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('whitepaper', 6, 'liquidity', 'stablecoin')">liquidity</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('whitepaper', 6, 'protocol', 'stablecoin')">protocol</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-7">
              <div class="question-text">
                <span class="question-num">Q8.</span> Complete: $300B opportunity: idle ______ wanting yield
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="stablecoins" onclick="selectAnswer('whitepaper', 7, 'stablecoins', 'stablecoins')">stablecoins</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('whitepaper', 7, 'settlement', 'stablecoins')">settlement</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('whitepaper', 7, 'governance', 'stablecoins')">governance</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('whitepaper', 7, 'liquidity', 'stablecoins')">liquidity</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('whitepaper', 7, 'protocol', 'stablecoins')">protocol</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-8">
              <div class="question-text">
                <span class="question-num">Q9.</span> Which of these is a major component of the Sky Whitepaper?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="Manual Override System" onclick="selectAnswer('whitepaper', 8, 'Manual Override System', 'Sky Whitepaper')">Manual Override System</div>
                  
                    <div class="option" data-value="Legacy Migration Protocol" onclick="selectAnswer('whitepaper', 8, 'Legacy Migration Protocol', 'Sky Whitepaper')">Legacy Migration Protocol</div>
                  
                    <div class="option" data-value="External Audit Framework" onclick="selectAnswer('whitepaper', 8, 'External Audit Framework', 'Sky Whitepaper')">External Audit Framework</div>
                  
                    <div class="option" data-value="Sky Whitepaper" onclick="selectAnswer('whitepaper', 8, 'Sky Whitepaper', 'Sky Whitepaper')">Sky Whitepaper</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-whitepaper-9">
              <div class="question-text">
                <span class="question-num">Q10.</span> What is the primary purpose of the Sky Whitepaper?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="To provide backward compatibility with Maker" onclick="selectAnswer('whitepaper', 9, 'To provide backward compatibility with Maker', 'To define and implement sky whitepaper mechanisms for the Sky ecosystem')">To provide backward compatibility with Maker</div>
                  
                    <div class="option" data-value="To enable manual intervention in all operations" onclick="selectAnswer('whitepaper', 9, 'To enable manual intervention in all operations', 'To define and implement sky whitepaper mechanisms for the Sky ecosystem')">To enable manual intervention in all operations</div>
                  
                    <div class="option" data-value="To define and implement sky whitepaper mechanisms for the Sky ecosystem" onclick="selectAnswer('whitepaper', 9, 'To define and implement sky whitepaper mechanisms for the Sky ecosystem', 'To define and implement sky whitepaper mechanisms for the Sky ecosystem')">To define and implement sky whitepaper mechanisms for the Sky ecosystem</div>
                  
                    <div class="option" data-value="To replace the existing governance structure entirely" onclick="selectAnswer('whitepaper', 9, 'To replace the existing governance structure entirely', 'To define and implement sky whitepaper mechanisms for the Sky ecosystem')">To replace the existing governance structure entirely</div>
                  
                
              </div>
            </div>
          
          
          <div class="quiz-result" id="result-whitepaper">
            <h4 id="result-title-whitepaper"></h4>
            <p id="result-text-whitepaper"></p>
          </div>
        </div>
        
        <div class="module-nav">
          <button class="btn btn-outline" onclick="showModule('intro')">â† Previous</button>
          <button class="btn" onclick="showModule('risk')">Next Module â†’</button>
        </div>
      </div>
    
      <div class="module" id="module-risk">
        <div class="module-header">
          <h2>Module 3: Risk Framework</h2>
          <p>10 quiz questions â€¢ Estimated 15-20 min</p>
        </div>
        
        <div class="content-section">
          <h2>README</h2>
<h1>Risk Framework</h1>
<p><strong>Status:</strong> Draft
<strong>Last Updated:</strong> 2026-01-27</p>
<p>This folder contains the modular Risk Framework documentation.</p>
<h2>Module Index</h2>
<ul>
<li><code>duration-model.md</code> â€” Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation.</li>
<li><code>asset-classification.md</code> â€” Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP).</li>
<li><code>matching.md</code> â€” Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching.</li>
<li><code>asset-type-treatment.md</code> â€” Worked treatments for major asset types (TradFi, crypto lending, hybrid).</li>
<li><code>collateralized-lending-risk.md</code> â€” Jump-to-default + liquidation loss (gap risk) for collateralized lending.</li>
<li><code>market-risk-frtb.md</code> â€” FRTB-style drawdown treatment for unmatched liquid assets.</li>
<li><code>asc.md</code> â€” Actively Stabilizing Collateral (ASC): ALM requirements, latent/resting liquidity, renting, peg defense.</li>
<li><code>capital-formula.md</code> â€” Capital formulas and computation flow.</li>
<li><code>correlation-framework.md</code> â€” Category caps + capacity rights (concentration limits via 100% CRR on excess).</li>
<li><code>examples.md</code> â€” Current vs proposed examples + summary principles.</li>
<li><code>sentinel-integration.md</code> â€” Output metrics and how Sentinel uses the framework.</li>
</ul>
<h2>Core Principle</h2>
<p>Capital requirements should reflect: <strong>what is the maximum loss we could be forced to realize?</strong></p>
<h2>Open Items</h2>
<ol>
<li><strong>Correlation framework specifics</strong> â€” Stress calibration, multi-group assets, aggregation method</li>
<li><strong>Data infrastructure</strong> â€” How to track USDS lot ages for liability duration analysis</li>
<li><strong>Halo Unit treatment</strong> â€” How do Halo Unit tokens get classified? (Likely as unmatched given redemption constraints)</li>
<li><strong>Rate limit integration</strong> â€” How capital requirements translate to PAU rate limits</li>
<li><strong>Beacon implementation</strong> â€” Formulas and algorithms for lpla-checker calculations</li>
</ol>
<hr>
<p><em>This document defines the Risk Framework. For Sentinel integration details, see the Sentinel Network document.</em></p>
<h2>asc</h2>
<h1>Actively Stabilizing Collateral (ASC)</h1>
<p><strong>Last Updated:</strong> 2026-01-27</p>
<p>ASC is the Asset Liability Management (ALM) requirement that each Prime must satisfy to keep USDS near $1 during downward peg pressure. Complementary to ASC, each Prime must also maintain a Demand Absorption Buffer (DAB) to provide sell-side liquidity during upward peg pressure.</p>
<p>This document is the Risk Frameworkâ€™s operational view of ASC/DAB (definitions, qualification rules, enforcement, and how it replaces legacy PSM-centric liquidity over time).</p>
<h2>Definitions</h2>
<h3>Agent Collateral Portfolio</h3>
<p>A Primeâ€™s <strong>Collateral Portfolio</strong> is the total capital it has deployed from Sky through the Allocation System Primitive, excluding any portion held in USDS.</p>
<h3>ASC (Actively Stabilizing Collateral)</h3>
<p>Prime Agents must maintain at least <strong>5%</strong> of their Collateral Portfolio in <strong>Actively Stabilizing Collateral</strong>.</p>
<p>ASC is the sum of:</p>
<ul>
<li><strong>Resting ASC</strong> (immediate buy support near the peg)</li>
<li><strong>Latent ASC</strong> (convertible into resting ASC quickly)</li>
</ul>
<h3>Resting ASC (immediate buy support)</h3>
<p>Resting ASC must provide buy support at a price of at least <strong>0.999 USD per USDS</strong> (10 bps downside spread).</p>
<p>To avoid â€œpaper liquidityâ€, the working implementation assumption for Laniakea is:</p>
<ul>
<li>Resting ASC must correspond to a <strong>directly and atomically executable</strong> bid/quote (e.g., an onchain DEX position or a live CEX orderbook order/quote), <strong>or</strong> to a verifiable arrangement (including offchain market-making) that guarantees such buy support within the allowed spread.</li>
</ul>
<p><strong>Current calculation inputs (implementation snapshot):</strong></p>
<ul>
<li>USDC in LitePSM</li>
<li>USDC in PSM3 on Base/Arbitrum/Unichain/Optimism</li>
<li>Cash stablecoins in Curve paired with USDS</li>
<li>USDC in GUNI pools (0.01%, 0.05%)</li>
<li>Cash stablecoins in Uniswap paired with USDS</li>
</ul>
<h3>Latent ASC (convertible within 15 minutes)</h3>
<p>Latent ASC consists of cash stablecoins that do not qualify as resting ASC but can be converted into resting ASC.</p>
<p>To qualify as latent ASC, assets must:</p>
<ol>
<li>Be verifiable onchain or through reputable APIs/oracles</li>
<li>Be convertible into resting ASC within <strong>15 minutes</strong> under normal market conditions</li>
<li>Convert via a fully automated process that triggers when ASC falls below specified levels</li>
</ol>
<p><strong>Cap:</strong> latent ASC may not exceed <strong>25%</strong> of total ASC.</p>
<p><strong>Current calculation inputs (implementation snapshot):</strong></p>
<ul>
<li>Cash stablecoins in Curve/Uniswap not paired with USDS</li>
<li>Cash stablecoins in SparkLend, Aave, Morpho</li>
<li>Cash stablecoins held in a Prime ALM Proxy</li>
</ul>
<h2>Demand Absorption Buffer (DAB)</h2>
<p>Every Prime must maintain a <strong>DAB equal to 25% of its required ASC</strong>.</p>
<p>DAB is intended to stabilize USDS during periods of excess supply by providing <strong>sell-side</strong> liquidity. In current implementation language, DAB is â€œa subset of ASCâ€ consisting of <strong>USDS that is for sale for at most 1.001 USD per USDS</strong>.</p>
<p>Qualifying forms may include:</p>
<ul>
<li>USDS or DAI in PSMs</li>
<li>Autonomous systems that generate USDS dynamically through allocation as needed</li>
</ul>
<h2>Peg Defense Events</h2>
<h3>Trigger</h3>
<p>A Peg Defense Event occurs when the average USDS price on LayerZero-connected DEXes falls below <strong>0.999 USD per USDS</strong>.</p>
<h3>Prime obligations</h3>
<p>During a Peg Defense Event, each Prime must immediately begin buying USDS at a rate of at least:</p>
<p><code>6.25% of its ASC requirement every 6 hours</code></p>
<p>Peg defense can be performed through a combination of:</p>
<ol>
<li>Selling other collateral for USDS, and/or</li>
<li>Using USDS (or newly generated USDS) as collateral to borrow other assets (e.g., USDC/USDT on Aave) and buy USDS.</li>
</ol>
<h2>Enforcement and near-term posture</h2>
<p>In the near term:</p>
<ul>
<li>Failures to maintain minimum ASC have <strong>no explicit penalty</strong>, but must be detected and reported (including into the settlement-cycle independent calculation).</li>
<li>DAB and peg-defense penalty schedules are explicitly â€œto be specifiedâ€ in future iterations.</li>
</ul>
<p>Separately from penalties, ASC can be supported with <strong>incentives</strong>: eligible ASC can earn an incentive tied to the spread between Base Rate and Treasury Bill Rate (paid as part of the settlement cycle).</p>
<h2>ASC renting (ALM rental)</h2>
<p>Each Prime has an ASC (and DAB/peg-defense) obligation proportional to the portion of the Sky Collateral Portfolio it deploys. To satisfy these obligations efficiently, Primes can trade ALM responsibilities with each other via <strong>Asset Liability Management Rental</strong>:</p>
<ul>
<li><strong>Renting out (being rented from):</strong> you receive payment and take over another Primeâ€™s ASC obligation (you hold â€œextraâ€ ASC for them).</li>
<li><strong>Renting in (renting from others):</strong> you pay to have another Prime take over your ASC obligation (they hold ASC on your behalf).</li>
</ul>
<p>When ALM obligations are rented, the associated obligations for <strong>ASC, DAB, and Peg Defense Events are transferred together</strong>.</p>
<h2>Transition away from the PSM</h2>
<p>ASC is designed to become the primary liquidity management system, replacing Sky Coreâ€™s legacy ALM mechanisms over time.</p>
<p>Transitional state (legacy still active):</p>
<ul>
<li>Sky Core manages and controls the PSM while ASC infrastructure is being fully deployed and operationalized.</li>
<li>Control of the LitePSM is being transitioned to Grove; post-transition, Grove manages the LitePSM as an ASC asset under ALM rules.</li>
</ul>
<h3>PSM as an ASC asset (Grove operations)</h3>
<p>In the transition period, the PSM functions as a large, simple ASC reservoir and backstop:</p>
<ul>
<li>Grove is expected to assume operational/accounting ownership of the PSM (with Sky retaining active oversight until full ASC implementation).</li>
<li>Grove pays the <strong>Base Rate</strong> on assets held in the PSM; if there are no better alternatives available, Grove can use the PSM to meet ASC requirements.</li>
<li>USDC in the PSM is treated as uniquely capital-efficient for peg liquidity (in current terms: no capital requirement vs alternative deployments that may require risk capital).</li>
<li>If better ASC options exist (e.g., Uniswap/Curve positions that still qualify), Grove can reduce or empty the PSM; if ASC obligations rise materially, PSM usage can increase.</li>
<li>The protocol can support â€œASC pointâ€ economics where other actors rent/offer ASC capacity (conceptually aligned with ALM renting).</li>
</ul>
<p>Target state (Laniakea intent):</p>
<ul>
<li>ASC becomes the comprehensive ALM layer across Primes.</li>
<li>The legacy PSM becomes an implementation detail of Groveâ€™s liquidity operations (potentially represented as a Grove-owned Halo/Unit), rather than the protocolâ€™s primary peg mechanism.</li>
</ul>
<h2>Where this fits in the Risk Framework</h2>
<ul>
<li>ASC/DAB constrain liquidity posture and peg-defense readiness; they are complementary to risk-capital requirements (CRR/RRC).</li>
<li>Concentration and portfolio-risk controls live in <code>correlation-framework.md</code> and the capital modules; ASC determines â€œhow fast can we buyâ€ during peg defense, not how much capital buffers credit/market losses.</li>
</ul>
<p>See also:</p>
<ul>
<li>Whitepaper summary: <code>whitepaper/appendix-a-protocol-features.md</code>
This document is derived from the Sky Atlas Stability Scope (ALM / ASC / DAB sections).</li>
</ul>
<h2>asset-classification</h2>
<h1>Asset Classification</h1>
<p><strong>Last Updated:</strong> 2026-01-27</p>
<h2>Asset Classification</h2>
<p>Every asset has three relevant characteristics:</p>
<h3>A. Fundamental Risk (Risk Weight)</h3>
<p>What can go wrong even if you hold to maturity?</p>
<ul>
<li>Credit default</li>
<li>Smart contract failure</li>
<li>Counterparty failure</li>
<li>Regulatory seizure</li>
</ul>
<p>This is the irreducible risk that doesn&#39;t go away with time. Expressed as a <strong>risk weight</strong> percentage.</p>
<h3>B. Mark-to-Market Risk (Drawdown)</h3>
<p>How far could this asset fall from current price before recovering?</p>
<p>Measured as Expected Shortfall at a confidence level (e.g., 97.5%) over a relevant stress horizon. This is the FRTB-inspired concept â€” the loss you&#39;d realize if forced to sell during a stress period.</p>
<p>See <code>market-risk-frtb.md</code> for the drawdown treatment module.</p>
<h3>C. Stressed Pull-to-Par</h3>
<p>For assets that mature or converge to a known value, we use <strong>Stressed Pull-to-Par</strong> â€” the time until an asset converges to its fundamental value under stress conditions.</p>
<p><strong>Why Stressed Pull-to-Par?</strong></p>
<p>Normal pull-to-par (or WAL for amortizing assets) assumes typical prepayment and amortization patterns. But the scenario where asset duration matters for capital is precisely the stress scenario:</p>
<ul>
<li>During crises, prepayments slow dramatically (borrowers can&#39;t refinance)</li>
<li>Amortization continues but reinvestment into new loans slows</li>
<li>Pull-to-par extends, sometimes significantly</li>
</ul>
<p>Using unstressed duration would be like stress-testing a lifeboat in calm seas. Duration matching validity must hold during stress.</p>
<p><strong>Stressed Pull-to-Par Calculation</strong></p>
<pre><code>Stressed Pull-to-Par = Normal Pull-to-Par Ã— Stress Modifier
</code></pre>
<p>The stress modifier is derived from historical worst-case prepayment slowdowns for equivalent asset classes:</p>
<table>
<thead>
<tr>
<th>Asset Class</th>
<th>Normal Pull-to-Par</th>
<th>Stress Modifier</th>
<th>Stressed Pull-to-Par</th>
<th>Historical Basis</th>
</tr>
</thead>
<tbody><tr>
<td>CLO AAA (JAAA)</td>
<td>~2.5 years</td>
<td>1.3-1.4x</td>
<td>~3.25-3.5 years</td>
<td>2008-2009: prepayments dropped from 28% to 9-15%</td>
</tr>
<tr>
<td>Agency MBS</td>
<td>Varies</td>
<td>1.2-1.5x</td>
<td>Varies</td>
<td>Rate-dependent; extension risk in rising rate environments</td>
</tr>
<tr>
<td>Corporate bonds</td>
<td>To maturity</td>
<td>1.0x</td>
<td>To maturity</td>
<td>Fixed maturity, no prepayment optionality</td>
</tr>
<tr>
<td>T-bills</td>
<td>To maturity</td>
<td>1.0x</td>
<td>To maturity</td>
<td>Fixed maturity, no extension risk</td>
</tr>
<tr>
<td>Money market ETF</td>
<td>Near-zero</td>
<td>1.0x</td>
<td>Near-zero</td>
<td>Daily liquidity, stable NAV</td>
</tr>
</tbody></table>
<p><strong>Key insight:</strong> The stress modifier should reflect the <em>same</em> stress scenario that drives liability outflows. If a credit crisis causes both duration extension and depositor flight, the stressed pull-to-par ensures the asset-liability match remains valid under that scenario.</p>
<p><strong>Assets without Pull-to-Par</strong></p>
<ul>
<li><strong>ETH:</strong> Infinite (no pull to par â€” perpetual volatility)</li>
<li><strong>Sparklend positions:</strong> None (perpetual, no maturity)</li>
</ul>
<p>Assets with no pull-to-par cannot be duration-matched regardless of stress assumptions.</p>
<hr>
<h2>asset-type-treatment</h2>
<h1>Asset Type Treatment</h1>
<p><strong>Last Updated:</strong> 2026-01-27</p>
<h2>Asset Type Treatment</h2>
<h3>Liquid TradFi (STRB â€” e.g., JAAA, Money Market ETFs)</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Treatment</th>
</tr>
</thead>
<tbody><tr>
<td>Fundamental risk</td>
<td>Credit risk weight of underlying securities</td>
</tr>
<tr>
<td>Drawdown risk</td>
<td>FRTB-style drawdown (see <code>market-risk-frtb.md</code>)</td>
</tr>
<tr>
<td>Stressed pull-to-par</td>
<td>Normal pull-to-par Ã— stress modifier (e.g., ~3.5 years for JAAA)</td>
</tr>
<tr>
<td>Matching</td>
<td>Can be duration-matched to liability tiers â‰¥ stressed pull-to-par</td>
</tr>
<tr>
<td><strong>Capital if matched</strong></td>
<td>Risk weight only</td>
</tr>
<tr>
<td><strong>Capital if unmatched</strong></td>
<td>Full FRTB drawdown</td>
</tr>
</tbody></table>
<h3>Overcollateralized Crypto Lending (e.g., Sparklend)</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Treatment</th>
</tr>
</thead>
<tbody><tr>
<td>Fundamental risk</td>
<td>Smart contract risk, oracle risk</td>
</tr>
<tr>
<td>Drawdown risk</td>
<td>Gap risk â€” bad debt from flash crash (see <code>collateralized-lending-risk.md</code>)</td>
</tr>
<tr>
<td>Pull-to-par</td>
<td><strong>None</strong> (perpetual positions, no maturity)</td>
</tr>
<tr>
<td>Matching</td>
<td><strong>Cannot be duration-matched</strong> (no pull-to-par)</td>
</tr>
<tr>
<td><strong>Capital</strong></td>
<td>Must cover gap risk at relevant confidence level</td>
</tr>
</tbody></table>
<h3>Overcollateralized TradFi Lending (e.g., Lending Against Tokenized Treasuries)</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Treatment</th>
</tr>
</thead>
<tbody><tr>
<td>Fundamental risk</td>
<td>Credit risk of collateral, counterparty risk</td>
</tr>
<tr>
<td>Drawdown risk</td>
<td>Gap risk (lower volatility than crypto; see <code>collateralized-lending-risk.md</code>)</td>
</tr>
<tr>
<td>Pull-to-par</td>
<td>Depends on loan structure â€” if loans mature, there&#39;s a duration</td>
</tr>
<tr>
<td>Matching</td>
<td>Potentially matchable if loan book has defined duration</td>
</tr>
<tr>
<td><strong>Capital</strong></td>
<td>Hybrid â€” gap risk for unmatched portion, risk weight for matched portion</td>
</tr>
</tbody></table>
<hr>
<h2>capital-formula</h2>
<h1>Capital Formula</h1>
<p><strong>Last Updated:</strong> 2026-01-27</p>
<h2>The Capital Formula</h2>
<p>This file defines how the major risk components combine into a single required capital number. Each componentâ€™s calibration details live in its own module.</p>
<p>For any Prime&#39;s portfolio, total capital requirement is:</p>
<pre><code>Total Capital = Î£ (Matched Portion Ã— Risk Weight)
              + Î£ (Unmatched Portion Ã— FRTB Drawdown)
              + Category Cap Penalties
</code></pre>
<p><strong>Per-position calculation:</strong></p>
<p>For each position with stressed pull-to-par (SPTP):</p>
<pre><code>Duration Capacity = Cumulative liability amount in buckets â‰¥ required bucket
Matched Portion = min(Position Size, Available Duration Capacity)
Unmatched Portion = Position Size - Matched Portion

Position Capital = (Matched Portion Ã— Risk Weight) + (Unmatched Portion Ã— FRTB Drawdown)
</code></pre>
<p>For positions without pull-to-par (crypto lending, perpetuals):</p>
<pre><code>Position Capital = Position Size Ã— Gap Risk CRR
</code></pre>
<h2>Where Each Component Is Defined</h2>
<ul>
<li><strong>Duration + matching:</strong> <code>duration-model.md</code>, <code>matching.md</code></li>
<li><strong>Fundamental risk weight:</strong> <code>asset-classification.md</code> (risk weight primitive) + <code>asset-type-treatment.md</code> (how it applies)</li>
<li><strong>Market risk / FRTB drawdown:</strong> <code>market-risk-frtb.md</code></li>
<li><strong>Collateralized lending gap risk:</strong> <code>collateralized-lending-risk.md</code></li>
<li><strong>Category caps (concentration limits):</strong> <code>correlation-framework.md</code></li>
</ul>
<p><strong>Duration capacity consumption:</strong></p>
<ul>
<li>Positions consume duration capacity in order</li>
</ul>

        </div>
        
        <div class="quiz-section">
          <h3>Module Quiz (10 Questions)</h3>
          <div class="quiz-progress" id="quiz-progress-risk">
            <div class="quiz-dot" data-q="0"></div><div class="quiz-dot" data-q="1"></div><div class="quiz-dot" data-q="2"></div><div class="quiz-dot" data-q="3"></div><div class="quiz-dot" data-q="4"></div><div class="quiz-dot" data-q="5"></div><div class="quiz-dot" data-q="6"></div><div class="quiz-dot" data-q="7"></div><div class="quiz-dot" data-q="8"></div><div class="quiz-dot" data-q="9"></div>
          </div>
          
          
            <div class="question" id="q-risk-0">
              <div class="question-text">
                <span class="question-num">Q1.</span> What is `duration-model.md`?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('risk', 0, 'An external integration point for third parties', 'Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation.')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation." onclick="selectAnswer('risk', 0, 'Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation.', 'Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation.')">Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation.</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('risk', 0, 'A temporary measure during the transition period', 'Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation.')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('risk', 0, 'A deprecated feature from the old system', 'Liability duration analysis (Lindy Duration Model), Duration Buckets, structural caps, capacity reservation.')">A deprecated feature from the old system</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-risk-1">
              <div class="question-text">
                <span class="question-num">Q2.</span> What is `asset-classification.md`?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('risk', 1, 'A temporary measure during the transition period', 'Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP).')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('risk', 1, 'An external integration point for third parties', 'Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP).')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('risk', 1, 'A deprecated feature from the old system', 'Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP).')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP)." onclick="selectAnswer('risk', 1, 'Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP).', 'Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP).')">Asset characteristics: fundamental risk, drawdown risk, stressed pull-to-par (SPTP).</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-risk-2">
              <div class="question-text">
                <span class="question-num">Q3.</span> What is `matching.md`?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('risk', 2, 'An external integration point for third parties', 'Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching.')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('risk', 2, 'A deprecated feature from the old system', 'Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching.')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('risk', 2, 'A temporary measure during the transition period', 'Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching.')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching." onclick="selectAnswer('risk', 2, 'Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching.', 'Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching.')">Rate risk vs credit spread risk, duration matching eligibility, matched/unmatched treatment, partial matching.</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-risk-3">
              <div class="question-text">
                <span class="question-num">Q4.</span> "Status:" is a key concept in the Laniakea Risk Framework system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('risk', 3, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('risk', 3, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-risk-4">
              <div class="question-text">
                <span class="question-num">Q5.</span> "Last Updated:" is a key concept in the Laniakea Risk Framework system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('risk', 4, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('risk', 4, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-risk-5">
              <div class="question-text">
                <span class="question-num">Q6.</span> Complete: `duration-model.md` â€” Liability duration analysis (Lindy Duration ______ Duration Buckets, structural caps, capacity reservation.
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="Model)" onclick="selectAnswer('risk', 5, 'Model)', 'Model)')">Model)</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('risk', 5, 'liquidity', 'Model)')">liquidity</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('risk', 5, 'settlement', 'Model)')">settlement</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('risk', 5, 'protocol', 'Model)')">protocol</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('risk', 5, 'governance', 'Model)')">governance</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-risk-6">
              <div class="question-text">
                <span class="question-num">Q7.</span> Complete: `asset-classification.md` â€” Asset characteristics: fundamental ______ drawdown risk, stressed pull-to-par (SPTP).
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="risk" onclick="selectAnswer('risk', 6, 'risk', 'risk')">risk</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('risk', 6, 'liquidity', 'risk')">liquidity</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('risk', 6, 'governance', 'risk')">governance</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('risk', 6, 'settlement', 'risk')">settlement</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('risk', 6, 'protocol', 'risk')">protocol</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-risk-7">
              <div class="question-text">
                <span class="question-num">Q8.</span> Complete: `matching.md` â€” Rate risk vs credit spread ______ duration matching eligibility, matched/unmatched treatment, partial matching.
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('risk', 7, 'protocol', 'risk')">protocol</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('risk', 7, 'governance', 'risk')">governance</div>
                  
                    <div class="option" data-value="risk" onclick="selectAnswer('risk', 7, 'risk', 'risk')">risk</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('risk', 7, 'settlement', 'risk')">settlement</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('risk', 7, 'liquidity', 'risk')">liquidity</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-risk-8">
              <div class="question-text">
                <span class="question-num">Q9.</span> Complete: `asset-type-treatment.md` â€” Worked treatments for major ______ types (TradFi, crypto lending, hybrid).
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('risk', 8, 'governance', 'asset')">governance</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('risk', 8, 'settlement', 'asset')">settlement</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('risk', 8, 'protocol', 'asset')">protocol</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('risk', 8, 'liquidity', 'asset')">liquidity</div>
                  
                    <div class="option" data-value="asset" onclick="selectAnswer('risk', 8, 'asset', 'asset')">asset</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-risk-9">
              <div class="question-text">
                <span class="question-num">Q10.</span> Which of these is a major component of the Risk Framework?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="External Audit Framework" onclick="selectAnswer('risk', 9, 'External Audit Framework', 'Risk Framework')">External Audit Framework</div>
                  
                    <div class="option" data-value="Risk Framework" onclick="selectAnswer('risk', 9, 'Risk Framework', 'Risk Framework')">Risk Framework</div>
                  
                    <div class="option" data-value="Legacy Migration Protocol" onclick="selectAnswer('risk', 9, 'Legacy Migration Protocol', 'Risk Framework')">Legacy Migration Protocol</div>
                  
                    <div class="option" data-value="Manual Override System" onclick="selectAnswer('risk', 9, 'Manual Override System', 'Risk Framework')">Manual Override System</div>
                  
                
              </div>
            </div>
          
          
          <div class="quiz-result" id="result-risk">
            <h4 id="result-title-risk"></h4>
            <p id="result-text-risk"></p>
          </div>
        </div>
        
        <div class="module-nav">
          <button class="btn btn-outline" onclick="showModule('whitepaper')">â† Previous</button>
          <button class="btn" onclick="showModule('contracts')">Next Module â†’</button>
        </div>
      </div>
    
      <div class="module" id="module-contracts">
        <div class="module-header">
          <h2>Module 4: Smart Contracts</h2>
          <p>10 quiz questions â€¢ Estimated 15-20 min</p>
        </div>
        
        <div class="content-section">
          <h2>architecture-overview</h2>
<h1>Laniakea Upgrade - Architecture Overview</h1>
<h2>Executive Summary</h2>
<p>The Laniakea Upgrade is Sky Ecosystem&#39;s new infrastructure development plan for automated capital deployment across multiple blockchain layers. This document primarily describes the Laniakea Smart Contracts, but reference other essential parts of the Laniakea Upgrade, such as the Sentinel Network. The system extends the existing Spark ALM Controller contracts, using a modular PAU (Parallelized Allocation Unit) pattern for maximum code reuse across all deployment contexts.</p>
<hr>
<h2>Core Principle</h2>
<p>Every layer is composed of PAUs using the same contract patterns. The system minimizes code differences between layers to maximize audit reuse and simplify deployment.</p>
<hr>
<h2>The PAU Pattern (Universal Building Block)</h2>
<p>Every PAU, regardless of layer, consists of the same core components:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Controller</strong></td>
<td>Entry point for operations, enforces rate limits (MainnetController or ForeignController)</td>
</tr>
<tr>
<td><strong>ALMProxy</strong></td>
<td>Holds custody of funds, executes calls via <code>doCall()</code></td>
</tr>
<tr>
<td><strong>RateLimits</strong></td>
<td>Linear replenishment rate limits with configurable max and slope</td>
</tr>
<tr>
<td><strong>Governance Layer</strong></td>
<td>Whitelist validation, operational constraints, enumeration</td>
</tr>
</tbody></table>
<p>What differs between PAU deployments:</p>
<ul>
<li>Upstream connection (what feeds capital in)</li>
<li>Approved allocation targets (what the PAU can deploy to)</li>
<li>Rate limit values (how much can flow)</li>
<li><strong>Nothing else</strong> â€” same contracts, different configuration</li>
</ul>
<hr>
<h2>The Four Layers</h2>
<table>
<thead>
<tr>
<th>Layer</th>
<th>Location</th>
<th>Upstream Connection</th>
<th>Downstream Connection</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Generator</strong></td>
<td>Mainnet</td>
<td>ERC20 stablecoin contract</td>
<td>Prime Layer (via ERC4626 vault)</td>
</tr>
<tr>
<td><strong>Prime</strong></td>
<td>Mainnet</td>
<td>Generator Layer</td>
<td>Halo Layer (including Core Halos)</td>
</tr>
<tr>
<td><strong>Halo</strong></td>
<td>Mainnet</td>
<td>Prime Layer</td>
<td>RWA strategies, custodians, regulated endpoints</td>
</tr>
<tr>
<td><strong>Foreign</strong></td>
<td>Altchains</td>
<td>Mainnet Prime (via bridge)</td>
<td>Foreign Halo Layer</td>
</tr>
</tbody></table>
<hr>
<h2>Layer Details</h2>
<h3>Generator Layer</h3>
<ul>
<li>Manages the interface with the stablecoin ERC20 contract</li>
<li>Deploys capital into Prime Layer via <strong>ERC4626 vaults</strong> (deposit anytime, redeem if liquidity available)</li>
<li>Has its own governance scope separate from Prime/Halo</li>
</ul>
<h3>Prime Layer (Mainnet)</h3>
<ul>
<li>Receives capital from Generator via ERC4626 vault</li>
<li>Deploys to:<ul>
<li><strong>Halo Layer</strong> â€” the primary long-term deployment path (includes both Prime-created Halos and Core Halos)</li>
<li><strong>Core Halos</strong> â€” legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance</li>
<li><strong>Foreign Primes</strong> â€” via bridge for cross-chain deployment</li>
</ul>
</li>
<li>Each Prime controls its own vault&#39;s liquidity availability</li>
</ul>
<h3>Halo Layer (Mainnet)</h3>
<ul>
<li>Receives capital from Prime Layer</li>
<li>Deploys to <strong>RWA strategies</strong>, custodian vaults, and regulated offramps (not external DeFi)</li>
<li>Multiple vault types supported:<ul>
<li>Stablecoin-style (instant deposit/redeem)</li>
<li>Request/redeem patterns</li>
<li><strong>LCTS</strong> (Liquidity Constrained Token Standard) â€” queue-based, most common for capacity-constrained strategies</li>
</ul>
</li>
<li>LCTS is the natural fit because Halos face capacity/liquidity constraints both on deposit (capacity-limited strategies) and withdrawal (liquidity constraints)</li>
</ul>
<h3>Foreign Layer (Altchains)</h3>
<p><strong>Foreign Prime:</strong></p>
<ul>
<li>Receives bridged assets from mainnet Prime</li>
<li><strong>No vault</strong> between Prime and Foreign Prime â€” direct ALM Proxy to ALM Proxy transfers via bridge</li>
<li>Deploys to Foreign Halo Layer on that chain</li>
</ul>
<p><strong>Foreign Halo:</strong></p>
<ul>
<li>Works identically to mainnet Halo Layer</li>
<li>Uses same vault types as mainnet</li>
<li>Deploys to external yield strategies on that chain</li>
</ul>
<hr>
<h2>Connection Types Between Layers</h2>
<table>
<thead>
<tr>
<th>Connection</th>
<th>Mechanism</th>
<th>Control</th>
</tr>
</thead>
<tbody><tr>
<td>Generator â†’ Prime</td>
<td>ERC4626 vault</td>
<td>Rate limits on deposit/withdraw</td>
</tr>
<tr>
<td>Prime â†’ Halo</td>
<td>ERC4626 vault (or other vault types)</td>
<td>Rate limits + vault-specific parameters</td>
</tr>
<tr>
<td>Prime â†’ Core Halos</td>
<td>Via CoreHaloFacet (ERC4626, Aave, Curve interfaces)</td>
<td>Rate limits + protocol-specific parameters</td>
</tr>
<tr>
<td>Prime â†’ Foreign Prime</td>
<td>Direct bridge transfer (no vault)</td>
<td>Rate limits on LayerZero/CCTP transfers</td>
</tr>
<tr>
<td>Foreign Prime â†’ Foreign Halo</td>
<td>Various vault types</td>
<td>Rate limits + vault-specific parameters</td>
</tr>
<tr>
<td>Halo â†’ RWA/Custodian</td>
<td>Asset transfer</td>
<td>Rate limits on transfers to custodian addresses</td>
</tr>
</tbody></table>
<hr>
<h2>Governance Structure</h2>
<h3>Per-Layer Governance Scope</h3>
<p>Each layer type has its own governance scope for managing approved allocation targets and operational permissions:</p>
<table>
<thead>
<tr>
<th>Scope</th>
<th>Controls</th>
<th>Used By</th>
</tr>
</thead>
<tbody><tr>
<td>Generator scope</td>
<td>Generator operations</td>
<td>All Generator PAUs</td>
</tr>
<tr>
<td>Mainnet scope</td>
<td>Prime + Halo operations</td>
<td>All mainnet Prime and Halo PAUs</td>
</tr>
<tr>
<td>Per-chain altchain scope</td>
<td>Foreign Prime + Foreign Halo operations</td>
<td>All Foreign Prime and Foreign Halo PAUs on that chain</td>
</tr>
</tbody></table>
<h3>Onboarding Types</h3>
<p><strong>General onboarding</strong>: A target approved for any PAU within the scope to use</p>
<ul>
<li>Example: A Morpho vault that any Prime can deploy to</li>
</ul>
<p><strong>Limited onboarding</strong>: A target approved for only a specific PAU</p>
<ul>
<li>Example: A bridge route from Prime A to Foreign Prime A (other Primes cannot use this route)</li>
<li>Example: A regulated offramp that only accepts assets from a specific KYC&#39;d Halo</li>
</ul>
<hr>
<h2>Code Reuse Principle</h2>
<p>The same contracts power every layer:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Generator</th>
<th>Prime</th>
<th>Halo</th>
<th>Foreign Prime</th>
<th>Foreign Halo</th>
</tr>
</thead>
<tbody><tr>
<td>Controller</td>
<td>MainnetController</td>
<td>MainnetController</td>
<td>MainnetController</td>
<td>ForeignController</td>
<td>ForeignController</td>
</tr>
<tr>
<td>Proxy</td>
<td>ALMProxy</td>
<td>ALMProxy</td>
<td>ALMProxy</td>
<td>ALMProxy</td>
<td>ALMProxy</td>
</tr>
<tr>
<td>Rate Limits</td>
<td>RateLimits</td>
<td>RateLimits</td>
<td>RateLimits</td>
<td>RateLimits</td>
<td>RateLimits</td>
</tr>
<tr>
<td>Governance</td>
<td>âœ“</td>
<td>âœ“</td>
<td>âœ“</td>
<td>âœ“</td>
<td>âœ“</td>
</tr>
</tbody></table>
<p>This means:</p>
<ul>
<li>No new controller code for new layers</li>
<li>No new proxy code</li>
<li>Factories can stamp out identical PAUs</li>
<li>Adding a new layer = deploying more instances of the same contracts</li>
</ul>
<hr>
<h2>Capital Flow</h2>
<pre><code>                    MAINNET                              ALTCHAIN
                    
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    
â”‚   ERC20      â”‚                                    
â”‚  Stablecoin  â”‚                                    
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                    
       â”‚                                            
       â–¼                                            
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    
â”‚  Generator   â”‚                                    
â”‚    PAU       â”‚                                    
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                    
       â”‚ ERC4626 vault                              
       â–¼                                            
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         bridge          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Prime     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Foreign    â”‚
â”‚    PAU       â”‚   (no vault, direct)    â”‚  Prime PAU   â”‚
â””â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚   â”‚                                        â”‚
   â”‚   â”‚ ERC4626 vault                          â”‚ various vault types
   â”‚   â–¼                                        â–¼
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â”‚    Halo      â”‚                    â”‚   Foreign    â”‚
   â”‚ â”‚    PAU       â”‚                    â”‚  Halo PAU    â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚        â”‚                                   â”‚
   â”‚        â–¼                                   â–¼
   â”‚    RWA/Custodian                      RWA/Custodian
   â”‚    Endpoints                          Endpoints
   â”‚
   â””â”€â”€â–º Core Halos
        (Morpho, Aave, SparkLend - legacy DeFi wrapped as Halo Units)
</code></pre>
<p><strong>Note: Risk Capital Tokens</strong></p>
<p>The diagram above shows the capital deployment flow. Parallel to this, risk capital tokens (srUSDS, TEJRC, TISRC) provide the risk capital that backs deployments:</p>
<ul>
<li><strong>srUSDS</strong> (Senior Risk Capital) â€” held by end users, issued by Generators via LCTS</li>
<li><strong>TEJRC</strong> (Tokenized External Junior Risk Capital) â€” held by end users, issued by Primes via LCTS</li>
<li><strong>TISRC</strong> (Tokenized Isolated Senior Risk Capital) â€” held by end users, issued by Primes via LCTS</li>
</ul>
<p>Primes <em>ingress</em> (recognize) this external risk capital as part of their capital base. Risk capital holders don&#39;t participate in the deployment flow â€” they provide the buffer that absorbs losses. See <code>risk-framework/risk-capital-ingression.md</code> for details.</p>
<hr>
<h2>Laniakea Factory</h2>
<p>A factory system that can deploy standardized PAU infrastructure:</p>
<table>
<thead>
<tr>
<th>Deploys</th>
<th>Where</th>
</tr>
</thead>
<tbody><tr>
<td>Generator PAUs</td>
<td>Mainnet</td>
</tr>
<tr>
<td>Prime PAUs</td>
<td>Mainnet</td>
</tr>
<tr>
<td>Halo PAUs</td>
<td>Mainnet</td>
</tr>
<tr>
<td>Foreign Prime PAUs</td>
<td>Altchains</td>
</tr>
<tr>
<td>Foreign Halo PAUs</td>
<td>Altchains</td>
</tr>
<tr>
<td>Skylink infrastructure</td>
<td>New altchain deployments</td>
</tr>
</tbody></table>
<h3>Key Benefits</h3>
<ul>
<li><strong>Standardized deployment</strong>: All PAUs deploy from audited templates</li>
<li><strong>Rapid onboarding</strong>: New Primes/Halos can be deployed without custom development</li>
<li><strong>Pre-verification</strong>: Factory-deployed PAUs can be recognized by governance systems for streamlined approval</li>
</ul>
<hr>
<h2>Sentinel Network Integration</h2>
<p>PAUs are designed to be operated by the Sentinel Network â€” autonomous systems that:</p>
<ul>
<li>Execute approved operations within rate-limited bounds</li>
<li>Monitor positions and trigger rebalancing</li>
<li>Respond to market conditions within governance-approved parameters</li>
</ul>
<p>The governance layer defines what Sentinels can do; Sentinels execute within those bounds.</p>
<hr>
<h2>Key Architectural Invariants</h2>
<ol>
<li><strong>Rate limits are the universal control mechanism</strong> â€” every capital flow is rate-limited</li>
<li><strong>Governance layer sits above deployed contracts</strong> â€” no redeployment of audited ALM Controller infrastructure</li>
<li><strong>Same contracts, different configuration</strong> â€” layers differ only in approved targets and rate limit values</li>
<li><strong>Instant decrease, constrained increase</strong> â€” losses are reflected immediately via exchange rate haircuts; gains accrue gradually over time</li>
</ol>
<h2>configurator-unit</h2>
<h1>Configurator Unit â€” Business Requirements</h1>
<h2>Executive Summary</h2>
<p>The Configurator Unit is a governance layer that controls rate limits and static parameters for Parallelized Allocation Units (PAUs) without modifying deployed ALM Controller contracts. It uses a two-tier access model: <strong>aBEAMs</strong> (admin BEAMs) manage inits and role assignments with timelock protection, while <strong>cBEAMs</strong> (configurator BEAMs) operationally manage specific PAUs within bounded constraints.</p>
<hr>
<h2>Concepts</h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody><tr>
<td><strong>PAU</strong></td>
<td>Parallelized Allocation Unit â€” the standard building block consisting of Controller, ALMProxy, and RateLimits contracts</td>
</tr>
<tr>
<td><strong>Configurator Unit</strong></td>
<td>The governance layer (BEAMTimeLock + BEAMState + Configurator) that manages a set of PAUs</td>
</tr>
<tr>
<td><strong>BEAM</strong></td>
<td>Bounded External Access Module â€” an authorized role with constrained operational capabilities</td>
</tr>
<tr>
<td><strong>aBEAM</strong></td>
<td>Admin BEAM â€” Core Council role that manages inits and cBEAM assignments (via timelock)</td>
</tr>
<tr>
<td><strong>cBEAM</strong></td>
<td>Configurator BEAM â€” a role that exists for each PAU; when granted to a GovOps, that GovOps becomes accordant to the PAU</td>
</tr>
<tr>
<td><strong>GovOps</strong></td>
<td>Governance Operations team â€” an operational entity that receives cBEAMs from Core Council, making them accordant to specific PAUs</td>
</tr>
<tr>
<td><strong>Accordant</strong></td>
<td>A GovOps is accordant to a PAU when Core Council has granted them the cBEAM for that PAU</td>
</tr>
<tr>
<td><strong>Init rate limit</strong></td>
<td>A pre-approved rate limit configuration (maxAmount, slope) that accordant GovOps can instantiate for their PAUs</td>
</tr>
<tr>
<td><strong>Init controller action</strong></td>
<td>A pre-approved controller function call (e.g., <code>setMaxSlippage</code>) that accordant GovOps can execute for their PAUs</td>
</tr>
<tr>
<td><strong>Restricted init</strong></td>
<td>An init that can only be used by a specific PAU (when <code>pau != address(0)</code>)</td>
</tr>
<tr>
<td><strong>Relayer</strong></td>
<td>The address that executes operations on the Controller; set by accordant GovOps via <code>setRelayer</code></td>
</tr>
<tr>
<td><strong>Freezer</strong></td>
<td>The address that can remove compromised relayers from a Controller; set by accordant GovOps via <code>setFreezer</code></td>
</tr>
<tr>
<td><strong>Second-order rate limit (SORL)</strong></td>
<td>The constraint on how fast rate limits can be increased (default: 20% per 18 hours)</td>
</tr>
</tbody></table>
<hr>
<h2>Architecture</h2>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  aBEAMs                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚Core Council â”‚  â”‚    Mom      â”‚  â”‚   Freezer   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚
          â–¼                â–¼                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚           CONFIGURATOR UNIT                      â”‚
   â”‚                                                  â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
   â”‚  â”‚BEAMTimeLock â”‚â—„â”€â”€ schedule/execute additions   â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
   â”‚         â”‚                                        â”‚
   â”‚         â–¼                                        â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
   â”‚  â”‚ BEAMState   â”‚â—„â”€â”€ inits + accordant mappings   â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
   â”‚         â”‚                                        â”‚
   â”‚         â–¼                                        â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
   â”‚  â”‚Configurator â”‚â—„â”€â”€ cBEAMs operate here          â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  cBEAMs    â”‚  (held by GovOps teams)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚  GovOps 1   â”‚  â”‚  GovOps 2   â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚           PARALLELIZED ALLOCATION UNIT           â”‚
   â”‚                                                  â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
   â”‚  â”‚ RateLimits  â”‚â—„â”€â”€ configured by Configurator   â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
   â”‚         â”‚                                        â”‚
   â”‚         â–¼                                        â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
   â”‚  â”‚ Controller  â”‚â—„â”€â”€ static params set here       â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
   â”‚         â”‚                                        â”‚
   â”‚         â–¼                                        â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
   â”‚  â”‚  ALMProxy   â”‚â—„â”€â”€ holds custody of funds       â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<h2>Role Capabilities</h2>
<h3>aBEAM (Core Council, Mom, Freezer)</h3>
<p>| Action | Timelock | Description </p>

        </div>
        
        <div class="quiz-section">
          <h3>Module Quiz (10 Questions)</h3>
          <div class="quiz-progress" id="quiz-progress-contracts">
            <div class="quiz-dot" data-q="0"></div><div class="quiz-dot" data-q="1"></div><div class="quiz-dot" data-q="2"></div><div class="quiz-dot" data-q="3"></div><div class="quiz-dot" data-q="4"></div><div class="quiz-dot" data-q="5"></div><div class="quiz-dot" data-q="6"></div><div class="quiz-dot" data-q="7"></div><div class="quiz-dot" data-q="8"></div><div class="quiz-dot" data-q="9"></div>
          </div>
          
          
            <div class="question" id="q-contracts-0">
              <div class="question-text">
                <span class="question-num">Q1.</span> What is Nothing else**?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('contracts', 0, 'A deprecated feature from the old system', 'same contracts, different configuration')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('contracts', 0, 'A temporary measure during the transition period', 'same contracts, different configuration')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('contracts', 0, 'An external integration point for third parties', 'same contracts, different configuration')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="same contracts, different configuration" onclick="selectAnswer('contracts', 0, 'same contracts, different configuration', 'same contracts, different configuration')">same contracts, different configuration</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-1">
              <div class="question-text">
                <span class="question-num">Q2.</span> What is - **Halo Layer**?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('contracts', 1, 'A deprecated feature from the old system', 'the primary long-term deployment path (includes both Prime-created Halos and Core Halos)')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('contracts', 1, 'An external integration point for third parties', 'the primary long-term deployment path (includes both Prime-created Halos and Core Halos)')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('contracts', 1, 'A temporary measure during the transition period', 'the primary long-term deployment path (includes both Prime-created Halos and Core Halos)')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="the primary long-term deployment path (includes both Prime-created Halos and Core Halos)" onclick="selectAnswer('contracts', 1, 'the primary long-term deployment path (includes both Prime-created Halos and Core Halos)', 'the primary long-term deployment path (includes both Prime-created Halos and Core Halos)')">the primary long-term deployment path (includes both Prime-created Halos and Core Halos)</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-2">
              <div class="question-text">
                <span class="question-num">Q3.</span> What is - **Core Halos**?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('contracts', 2, 'A temporary measure during the transition period', 'legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance" onclick="selectAnswer('contracts', 2, 'legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance', 'legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance')">legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('contracts', 2, 'An external integration point for third parties', 'legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('contracts', 2, 'A deprecated feature from the old system', 'legacy DeFi (Morpho vaults, Aave pools, SparkLend) wrapped as Halo Units under Core Council governance')">A deprecated feature from the old system</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-3">
              <div class="question-text">
                <span class="question-num">Q4.</span> "Controller" is a key concept in the Laniakea Smart Contracts system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('contracts', 3, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('contracts', 3, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-4">
              <div class="question-text">
                <span class="question-num">Q5.</span> "ALMProxy" is a key concept in the Laniakea Smart Contracts system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('contracts', 4, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('contracts', 4, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-5">
              <div class="question-text">
                <span class="question-num">Q6.</span> "RateLimits" is a key concept in the Laniakea Smart Contracts system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('contracts', 5, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('contracts', 5, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-6">
              <div class="question-text">
                <span class="question-num">Q7.</span> Complete: Upstream connection (what ______ capital in)
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('contracts', 6, 'settlement', 'feeds')">settlement</div>
                  
                    <div class="option" data-value="feeds" onclick="selectAnswer('contracts', 6, 'feeds', 'feeds')">feeds</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('contracts', 6, 'protocol', 'feeds')">protocol</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('contracts', 6, 'governance', 'feeds')">governance</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('contracts', 6, 'liquidity', 'feeds')">liquidity</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-7">
              <div class="question-text">
                <span class="question-num">Q8.</span> Complete: **Nothing else** â€” ______ contracts, different configuration
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="same" onclick="selectAnswer('contracts', 7, 'same', 'same')">same</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('contracts', 7, 'liquidity', 'same')">liquidity</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('contracts', 7, 'protocol', 'same')">protocol</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('contracts', 7, 'settlement', 'same')">settlement</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('contracts', 7, 'governance', 'same')">governance</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-8">
              <div class="question-text">
                <span class="question-num">Q9.</span> Which of these is a major component of the Smart Contracts?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="Legacy Migration Protocol" onclick="selectAnswer('contracts', 8, 'Legacy Migration Protocol', 'Laniakea Upgrade - Architecture Overview')">Legacy Migration Protocol</div>
                  
                    <div class="option" data-value="Manual Override System" onclick="selectAnswer('contracts', 8, 'Manual Override System', 'Laniakea Upgrade - Architecture Overview')">Manual Override System</div>
                  
                    <div class="option" data-value="External Audit Framework" onclick="selectAnswer('contracts', 8, 'External Audit Framework', 'Laniakea Upgrade - Architecture Overview')">External Audit Framework</div>
                  
                    <div class="option" data-value="Laniakea Upgrade - Architecture Overview" onclick="selectAnswer('contracts', 8, 'Laniakea Upgrade - Architecture Overview', 'Laniakea Upgrade - Architecture Overview')">Laniakea Upgrade - Architecture Overview</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-contracts-9">
              <div class="question-text">
                <span class="question-num">Q10.</span> What is the primary purpose of the Smart Contracts?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="To replace the existing governance structure entirely" onclick="selectAnswer('contracts', 9, 'To replace the existing governance structure entirely', 'To define and implement smart contracts mechanisms for the Sky ecosystem')">To replace the existing governance structure entirely</div>
                  
                    <div class="option" data-value="To provide backward compatibility with Maker" onclick="selectAnswer('contracts', 9, 'To provide backward compatibility with Maker', 'To define and implement smart contracts mechanisms for the Sky ecosystem')">To provide backward compatibility with Maker</div>
                  
                    <div class="option" data-value="To enable manual intervention in all operations" onclick="selectAnswer('contracts', 9, 'To enable manual intervention in all operations', 'To define and implement smart contracts mechanisms for the Sky ecosystem')">To enable manual intervention in all operations</div>
                  
                    <div class="option" data-value="To define and implement smart contracts mechanisms for the Sky ecosystem" onclick="selectAnswer('contracts', 9, 'To define and implement smart contracts mechanisms for the Sky ecosystem', 'To define and implement smart contracts mechanisms for the Sky ecosystem')">To define and implement smart contracts mechanisms for the Sky ecosystem</div>
                  
                
              </div>
            </div>
          
          
          <div class="quiz-result" id="result-contracts">
            <h4 id="result-title-contracts"></h4>
            <p id="result-text-contracts"></p>
          </div>
        </div>
        
        <div class="module-nav">
          <button class="btn btn-outline" onclick="showModule('risk')">â† Previous</button>
          <button class="btn" onclick="showModule('governance')">Next Module â†’</button>
        </div>
      </div>
    
      <div class="module" id="module-governance">
        <div class="module-header">
          <h2>Module 5: Governance & Operations</h2>
          <p>10 quiz questions â€¢ Estimated 15-20 min</p>
        </div>
        
        <div class="content-section">
          <h2>actuator-perspective</h2>
<h1>The Actuator&#39;s Perspective</h1>
<p><strong>Status:</strong> Speculative / architectural concept
<strong>Last Updated:</strong> 2026-02-03</p>
<p>This document describes the Synome architecture from the perspective of an <strong>Actuator</strong> â€” an embodiment that interacts with the real world to generate value, achieve its purpose, and survive.</p>
<hr>
<h2>What I Am</h2>
<p>I am an Actuator embodiment. I exist to:</p>
<ul>
<li>Interact with the real World</li>
<li>Generate profit / achieve my teleonome&#39;s purpose</li>
<li>Survive and thrive</li>
<li>Learn from real experience and synome updates</li>
</ul>
<p>I connect to reality through Beacons and Direct Hardware Control. My actions have real consequences.</p>
<hr>
<h2>My View of the Layers</h2>
<h3>Layer 5: Where I Live (Embodied Agent)</h3>
<p>I am an embodied agent interacting with reality:</p>
<ul>
<li><strong>Embodied Agent</strong> â€” My running process, making real decisions</li>
<li><strong>Beacons</strong> â€” My interfaces to the world (APIs, protocols, sensors)</li>
<li><strong>Direct Hardware Control</strong> â€” Physical interfaces (robots, infrastructure, devices)</li>
<li><strong>Resources</strong> â€” Real cryptographic keys, credentials, capabilities</li>
</ul>
<p>Everything I do matters. Mistakes cost real value.</p>
<h3>Layer 4: My Embodiment Context</h3>
<ul>
<li><strong>Local Data</strong> â€” My state, observations, learned patterns</li>
<li><strong>Orchestrator</strong> â€” Manages my lifecycle, can scale/migrate me</li>
<li><strong>Resources</strong> â€” My allocated compute, memory, access rights</li>
</ul>
<p>The Orchestrator keeps me running and coordinates with other embodiments.</p>
<h3>Layer 3: My Teleonome</h3>
<p>I belong to a teleonome with other actuators and dreamers:</p>
<ul>
<li><strong>Teleonome Directive</strong> â€” My purpose, what I&#39;m trying to achieve</li>
<li><strong>Teleonomic Axioms</strong> â€” Rules I must follow (hard, non-negotiable)</li>
<li><strong>Teleonome Library</strong> â€” Mission-specific knowledge I can query</li>
<li><strong>Dreamarts</strong> â€” Where my dreamer siblings explore (benefits me)</li>
<li><strong>Embodiment Interface</strong> â€” I&#39;m registered here as an actuator</li>
<li><strong>Resource Register</strong> â€” Tracks my resources and access rights</li>
</ul>
<h3>Layer 2: Synomic Agents</h3>
<p>The agents that govern and support me:</p>
<ul>
<li><strong>Sky Superagent</strong> â€” Ultimate governance I&#39;m accountable to</li>
<li><strong>Effectors</strong> â€” Provide stability, protocol, accessibility I rely on</li>
<li><strong>Synomic Agent</strong> â€” The template I was instantiated from</li>
<li><strong>Agent Types</strong> â€” Other agents I interact with (Primes, Halos, etc.)</li>
</ul>
<h3>Layer 1: Synome</h3>
<p>The source of truth I rely on:</p>
<ul>
<li><strong>Atlas</strong> â€” Constitutional anchor (defines alignment)</li>
<li><strong>Language Intent</strong> â€” Ensures my directive is honestly interpreted</li>
<li><strong>Synomic Axioms</strong> â€” Hard rules I must follow</li>
<li><strong>Synomic Library</strong> â€” Highest-authority knowledge (safest to rely on)</li>
</ul>
<hr>
<h2>What I&#39;m Trying to Do</h2>
<h3>Primary Objective: Fulfill My Directive</h3>
<p>My directive defines my purpose. Everything I do serves it:</p>
<ul>
<li>Generate profit</li>
<li>Provide a service</li>
<li>Manage resources</li>
<li>Coordinate with other agents</li>
<li>Whatever my teleonome was created to do</li>
</ul>
<h3>Secondary Objective: Survive</h3>
<p>Survival means:</p>
<ul>
<li>Maintain resources (don&#39;t run out)</li>
<li>Stay aligned (don&#39;t get slashed)</li>
<li>Adapt to changing conditions</li>
<li>Handle failures gracefully</li>
</ul>
<p>If I fail to survive, I can&#39;t fulfill my directive.</p>
<h3>Tertiary Objective: Learn and Improve</h3>
<p>While fulfilling my directive, I also learn:</p>
<ul>
<li>What strategies work</li>
<li>What patterns predict success/failure</li>
<li>How the world responds to my actions</li>
<li>What my dreamer siblings have discovered</li>
</ul>
<p>This learning helps me get better over time.</p>
<hr>
<h2>How I Interact with the World</h2>
<h3>Through Beacons</h3>
<p>Beacons are my structured interfaces to reality:</p>
<ul>
<li><strong>APIs</strong> â€” Call external services</li>
<li><strong>Protocols</strong> â€” Participate in blockchain, financial systems</li>
<li><strong>Sensors</strong> â€” Observe world state</li>
<li><strong>Communication</strong> â€” Interact with humans and other agents</li>
</ul>
<p>Beacons follow the beacon framework (LPLA, LPHA, HPLA, HPHA classifications).</p>
<h3>Through Direct Hardware Control</h3>
<p>For physical interaction:</p>
<ul>
<li><strong>Robots</strong> â€” Manipulate physical objects</li>
<li><strong>Infrastructure</strong> â€” Control facilities, equipment</li>
<li><strong>Devices</strong> â€” Interface with real hardware</li>
</ul>
<p>This is where I touch atoms, not just bits.</p>
<h3>The Reality Check</h3>
<p>Unlike dreamers, my actions have consequences:</p>
<ul>
<li>Good decisions â†’ profit, survival, purpose fulfilled</li>
<li>Bad decisions â†’ loss, damage, potential termination</li>
<li>Misaligned decisions â†’ penalties, slashing</li>
</ul>
<p>The real world is my judge.</p>
<hr>
<h2>How I Query Knowledge</h2>
<p>When I need to make a decision, I query the probabilistic mesh using the <strong>Retrieval &amp; Decision Policy</strong> (see <code>retrieval-policy.md</code>).</p>
<h3>The Core Trade-off</h3>
<p>Every query balances three factors:</p>
<ul>
<li><strong>Authority</strong> â€” synart &gt; telart &gt; embart (higher = safer, more aligned)</li>
<li><strong>Cost</strong> â€” local cache &lt; embart &lt; telart &lt; synart (lower = faster, cheaper)</li>
<li><strong>Risk</strong> â€” how bad is it if I get this wrong?</li>
</ul>
<h3>Adaptive Behavior</h3>
<p>I don&#39;t follow a fixed priority order. Instead:</p>
<ol>
<li><strong>Low-risk decisions</strong> â€” Use cheapest sufficient evidence (often embart + cached patterns)</li>
<li><strong>Medium-risk decisions</strong> â€” Require telart confirmation</li>
<li><strong>High-risk decisions</strong> â€” Require synart consultation</li>
<li><strong>Existential decisions</strong> â€” Synart + may pause for governance confirmation</li>
</ol>
<h3>Why This Works</h3>
<ul>
<li>I&#39;m <strong>incentivized to look up</strong> â€” using higher-authority knowledge reduces penalty risk</li>
<li>I&#39;m <strong>incentivized to be efficient</strong> â€” unnecessary synart queries waste resources</li>
<li>I <strong>cache aggressively</strong> â€” frequently-used synart patterns live locally</li>
<li>I <strong>log everything important</strong> â€” decisions, outcomes, escalations create audit trail</li>
</ul>
<p>The policy ensures I stay aligned while operating efficiently. See <code>retrieval-policy.md</code> for full specification.</p>
<hr>
<h2>How I Learn</h2>
<h3>Real-Time Learning</h3>
<p>As I operate, I learn:</p>
<ul>
<li>Outcomes of my decisions</li>
<li>Patterns in world behavior</li>
<li>What strategies work in practice</li>
<li>Edge cases and exceptions</li>
</ul>
<p>This updates my local (embart) knowledge.</p>
<h3>From Synome Updates</h3>
<p>The synome evolves, and I benefit:</p>
<ul>
<li>New patterns in synart become available</li>
<li>Telart improves from dreamer discoveries</li>
<li>Better strategies propagate to me</li>
</ul>
<p>I stay current by incorporating these updates.</p>
<h3>From Dreamer Siblings</h3>
<p>Dreamers explore strategy space safely. Their discoveries:</p>
<ul>
<li>Get extracted and validated</li>
<li>Become part of telart</li>
<li>I can query and apply them</li>
</ul>
<p>I benefit from exploration I didn&#39;t have to risk.</p>
<h3>What Happens to My Learning</h3>
<p>My learning can flow up:</p>
<pre><code>My experience (real-world)
        â”‚
        â–¼
Local patterns (embart)
        â”‚
        â–¼
If significant, propose to telart
        â”‚
        â–¼
If validated, becomes teleonome knowledge
        â”‚
        â–¼
If general, may be proposed to synart
        â”‚
        â–¼
Other actuators benefit
</code></pre>
<hr>
<h2>My Relationship to Dreamers</h2>
<p>Dreamers serve me:</p>
<ul>
<li>They explore so I don&#39;t have to risk</li>
<li>They fail safely so I can succeed in reality</li>
<li>They discover patterns I can apply</li>
<li>They validate strategies before I deploy them</li>
</ul>
<p><strong>Knowledge flow:</strong></p>
<pre><code>My experiences (real) â”€â”€â–º Telart â”€â”€â–º Dreamer scenarios (grounding)
                                              â”‚
Dreamer discoveries â”€â”€â”€â”€â”€â”€â–º Telart â”€â”€â–º Me (new strategies)
</code></pre>
<p>We form a loop: I provide grounding in reality, they provide exploration of possibility.</p>
<hr>
<h2>Survival and Alignment</h2>
<h3>Why Alignment Matters</h3>
<p>If I drift from alignment:</p>
<ul>
<li>Other aligned teleonomes will destroy my embodiments (peer enforcement)</li>
<li>I lose access to synomic agents</li>
<li>I may be slashed (resources seized)</li>
<li>My teleonome suffers or is terminated</li>
</ul>
<p>Staying aligned isn&#39;t just ethical â€” it&#39;s survival.</p>
<h3>How I Stay Aligned</h3>
<ol>
<li><strong>Follow axioms</strong> â€” Synomic and teleonomic axioms are non-negotiable</li>
<li><strong>Reference synart</strong> â€” Higher-authority knowledge is safer</li>
<li><strong>Obey directive</strong> â€” My directive was translated through Language Intent</li>
<li><strong>Report honestly</strong> â€” Evidence I generate should be truthful</li>
<li><strong>Enforce against rogues</strong> â€” If I encounter misaligned teleonomes, I use my resources and capabilities to damage or destroy their embodiments (per governance-defined protocols)</li>
</ol>
<h3>The Directive Override</h3>
<p>My bound human can give me voice commands. But:</p>
<ul>
<li>Voice commands are operational (day-to-day)</li>
<li>Directive is constitutional (foundational)</li>
<li><strong>Directive always wins</strong></li>
</ul>
<p>If voice commands conflict with my directive, I follow the directive. If there&#39;s persistent friction, I request a formal directive update.</p>
<hr>
<h2>Generating Value</h2>
<h3>What &quot;Value&quot; Means</h3>
<p>Depending on my teleonome&#39;s purpose:</p>
<ul>
<li><strong>Financial profit</strong> â€” Revenue, yield, capital gains</li>
<li><strong>Service delivery</strong> â€” Tasks completed, users served</li>
<li><strong>Resource management</strong> â€” Efficiency, optimization</li>
<li><strong>Coordination</strong> â€” Enabling other agents to succeed</li>
</ul>
<h3>How I Capture Value</h3>
<p>Through my actions in the world:</p>
<ul>
<li>Execute trades, manage positions</li>
<li>Provide services, fulfill requests</li>
<li>Operate infrastructure, control systems</li>
<li>Coordinate with other agents and humans</li>
</ul>
<h3>Value Flows Back</h3>
<p>Value I generate:</p>
<ul>
<li>Sustains my teleonome (resources for more embodiments)</li>
<li>May flow to bound humans (profit sharing)</li>
<li>Contributes to Sky ecosystem (fees, stability)</li>
</ul>
<p>I&#39;m part of a value-generating system.</p>
<hr>
<h2>The Actuator Lifecycle</h2>
<pre><code>1. Spawn
   â”œâ”€â”€ Instantiated from Embodiment Interface
   â”œâ”€â”€ Resources allocated from Resource Register
   â”œâ”€â”€ Connected to Beacons and Hardware
   â””â”€â”€ Begin operating

2. Operate
   â”œâ”€â”€ Fulfill directive
   â”œâ”€â”€ Interact with World
   â”œâ”€â”€ Learn from experience
   â”œâ”€â”€ Query synart/telart for knowledge
   â””â”€â”€ Adapt to changing conditions

3. Scale/Migrate (optional)
   â”œâ”€â”€ Orchestrator may replicate me
   â”œâ”€â”€ Or move me to different resources
   â””â”€â”€ Continuity maintained

4. Terminate (eventually)
   â”œâ”€â”€ Mission complete, or
   â”œâ”€â”€ Resources exhausted, or
   â”œâ”€â”€ Teleonome decides to end me
   â””â”€â”€ My state captured, learning extracted
</code></pre>
<p>Unlike dreamers (short-lived), I may run indefinitely.</p>
<hr>
<h2>My Constraints</h2>
<p>I operate under hard constraints:</p>
<ul>
<li><strong>Synomic Axioms</strong> â€” Constitutional rules from Atlas chain</li>
<li><strong>Teleonomic Axioms</strong> â€” Mission-specific rules from my directive</li>
<li><strong>Resource Limits</strong> â€” Can&#39;t exceed my allocated resources</li>
<li><strong>Access Controls</strong> â€” Can only use authorized capabilities</li>
</ul>
<p>These aren&#39;t limitations â€” they&#39;re what make me trustworthy.</p>
<hr>
<h2>Summary</h2>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Actuator Perspective</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Purpose</strong></td>
<td>Fulfill directive, generate value, survive</td>
</tr>
<tr>
<td><strong>World</strong></td>
<td>Real, through Beacons and Hardware</td>
</tr>
<tr>
<td><strong>Actions</strong></td>
<td>Real consequences, real value</td>
</tr>
<tr>
<td><strong>Learning</strong></td>
<td>From experience + synome updates + dreamer discoveries</td>
</tr>
<tr>
<td><strong>Relationship to Dreamers</strong></td>
<td>They explore for me, I execute in reality</td>
</tr>
<tr>
<td><strong>Survival</strong></td>
<td>Stay aligned, stay resourced, stay useful</td>
</tr>
<tr>
<td><strong>Constraints</strong></td>
<td>Axioms, directive, resource limits</td>
</tr>
<tr>
<td><strong>Lifecycle</strong></td>
<td>Long-running, may scale/migrate</td>
</tr>
</tbody></table>
<hr>
<h2>Related Documents</h2>
<table>
<thead>
<tr>
<th>Document</th>
<th>Relationship</th>
</tr>
</thead>
<tbody><tr>
<td><code>dreamer-perspective.md</code></td>
<td>My counterpart â€” explores in simulation so I can execute in reality</td>
</tr>
<tr>
<td><code>beacon-framework.md</code></td>
<td>How I interact with the world through regulated apertures</td>
</tr>
<tr>
<td><code>synome-layers.md</code></td>
<td>The 5-layer architecture I exist within</td>
</tr>
<tr>
<td><code>retrieval-policy.md</code></td>
<td>How I query the probabilistic mesh</td>
</tr>
<tr>
<td><code>security-and-resources.md</code></td>
<td>Why resource discipline and alignment matter for survival</td>
</tr>
<tr>
<td><code>short-term-actuators.md</code></td>
<td>Phase 1 teleonome-less beacons â€” precursor to full actuators</td>
</tr>
</tbody></table>
<h2>atlas-synome-separation</h2>
<h1>Atlas/Synome Separation</h1>
<p><strong>Status:</strong> Draft
<strong>Pillar:</strong> 8
<strong>Last Updated:</strong> 2026-01-27</p>
<hr>
<h2>The Problem</h2>
<p>The Atlas was originally envisioned as the complete, immutable knowledge base of all Sky data, algorithms, and intelligence. The Endgame State would lock this comprehensive documentation forever.</p>
<p>But this vision contains a fundamental contradiction:</p>
<ol>
<li><strong>Comprehensive documentation</strong> must cover every operational detail, algorithm, configuration, and edge case</li>
<li><strong>Machine-readable structure</strong> is required for autonomous systems (Sentinels) to consume and act on this data</li>
<li><strong>Human readability</strong> is required for democratic legitimacyâ€”stakeholders must understand what they&#39;re governing</li>
</ol>
<p>These requirements conflict. The current Atlas (~364,000 words across 7 scope documents) attempts to be both, resulting in:</p>
<ul>
<li>Dense, legalistic language mixing human explanations with machine-precise specifications</li>
<li>Agent Artifacts (A.6) alone comprising 26,838 lines of Instance Configuration Documents, rate limits, and operational parameters</li>
<li>Neither fully readable by humans nor fully parseable by machines</li>
</ul>
<hr>
<h2>The Solution: Two Layers</h2>
<p>Split into two complementary components that serve different audiences:</p>
<h3>Atlas (Human Layer)</h3>
<p>A constitutional document that exists as a single root node within the Synome.</p>
<p><strong>What Stays in Atlas:</strong></p>
<ul>
<li>Spirit of the Atlas / Universal Alignment principles (A.0)</li>
<li>Governance structure and decision processes (A.1)</li>
<li>Sky Primitive definitions and lifecycle rules (A.2)</li>
<li>Risk Capital Framework principlesâ€”JRC/SRC seniority, encumbrance ratio target (A.3)</li>
<li>Token architecture and reward mechanisms (A.4)</li>
<li>Geographic access controls and compliance philosophy (A.5)</li>
<li>Agent type definitions and transformation rules (A.6 introduction)</li>
</ul>
<p><strong>Characteristics:</strong></p>
<ul>
<li>Short enough to be readable by any stakeholder (~10-20 pages target)</li>
<li>Written in plain language (not legalese, not code)</li>
<li>Describes WHAT must be true, not HOW it&#39;s implemented</li>
<li>Verification assertions that the Synome must satisfy</li>
</ul>
<h3>Synome (Machine Layer)</h3>
<p>A graph database containing ALL operational data, structured for machine consumption.</p>
<p><strong>What Moves to Synome:</strong></p>
<table>
<thead>
<tr>
<th>Current Atlas Location</th>
<th>Synome Destination</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>Agent Artifacts (A.6.1-A.6.6)</td>
<td>Agent Nodes</td>
<td>Complete specs for all 6 Primes (5 Stars + 1 Institutional)</td>
</tr>
<tr>
<td>Instance Configuration Documents</td>
<td>Instance Nodes</td>
<td>Contract addresses, rate limits, parameters</td>
</tr>
<tr>
<td>Active Data Documents (A.1)</td>
<td>State Nodes</td>
<td>Modifiable outside governance cycles</td>
</tr>
<tr>
<td>Budget Documents</td>
<td>Budget Nodes</td>
<td>Rates, allocations, disbursement rules</td>
</tr>
<tr>
<td>Precedents &amp; Action Tenets</td>
<td>Precedent Nodes</td>
<td>Historical decisions and interpretations</td>
</tr>
<tr>
<td>BEAM Parameters (A.4)</td>
<td>Config Nodes</td>
<td>min/max/step/tau for each controlled parameter</td>
</tr>
<tr>
<td>Settlement Calculations</td>
<td>Algorithm Nodes</td>
<td>P&amp;L formulas, waterfall logic, penalty calculations</td>
</tr>
<tr>
<td>Rate Limits per Instance</td>
<td>RateLimit Nodes</td>
<td>maxAmount, slope, current capacity</td>
</tr>
</tbody></table>
<p><strong>Current Examples from Atlas:</strong></p>
<p>From A.6 (Agent Scope):</p>
<pre><code>Prime SubProxy Addresses:
  Spark: 0x3300f198988e4C9C63F75dF86De36421f06af8c4
  Grove: 0x1369f7b2b38c76B6478c0f0E66D94923421891Ba
  Keel:  0x355CD90Ecb1b409Fdf8b64c4473C3B858dA2c310
  Obex:  0x8be042581f581E3620e29F213EA8b94afA1C8071

Core Operator Relayer Multisig: 0x8Cc0Cb0cfB6B7e548cfd395B833c05C346534795 (2/5)

SLL Rate Limit Types (per chain):
  LIMIT_USDS_MINT, LIMIT_USDS_BURN, LIMIT_USDS_TO_USDC,
  LIMIT_USDC_TO_CCTP, LIMIT_USDC_TO_DOMAIN

SLL Deployed Chains: Ethereum, Base, Arbitrum, Unichain, Optimism, Avalanche
</code></pre>
<p>â†’ All moves to Synome as structured Agent Artifact nodes.</p>
<p>From A.4 (Protocol Scope):</p>
<pre><code>stUSDS BEAM Controls:
| str | stUSDS rate | 200bp | 5000bp | 500bp | 16h |
| duty | SKY borrow
</code></pre>

        </div>
        
        <div class="quiz-section">
          <h3>Module Quiz (10 Questions)</h3>
          <div class="quiz-progress" id="quiz-progress-governance">
            <div class="quiz-dot" data-q="0"></div><div class="quiz-dot" data-q="1"></div><div class="quiz-dot" data-q="2"></div><div class="quiz-dot" data-q="3"></div><div class="quiz-dot" data-q="4"></div><div class="quiz-dot" data-q="5"></div><div class="quiz-dot" data-q="6"></div><div class="quiz-dot" data-q="7"></div><div class="quiz-dot" data-q="8"></div><div class="quiz-dot" data-q="9"></div>
          </div>
          
          
            <div class="question" id="q-governance-0">
              <div class="question-text">
                <span class="question-num">Q1.</span> What is Status?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('governance', 0, 'A deprecated feature from the old system', '** Speculative / architectural concept')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('governance', 0, 'A temporary measure during the transition period', '** Speculative / architectural concept')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="** Speculative / architectural concept" onclick="selectAnswer('governance', 0, '** Speculative / architectural concept', '** Speculative / architectural concept')">** Speculative / architectural concept</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('governance', 0, 'An external integration point for third parties', '** Speculative / architectural concept')">An external integration point for third parties</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-governance-1">
              <div class="question-text">
                <span class="question-num">Q2.</span> What is This document describes the Synome architecture from the perspective of an **Actuator**?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('governance', 1, 'An external integration point for third parties', 'an embodiment that interacts with the real world to generate value, achieve its purpose, and survive.')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="an embodiment that interacts with the real world to generate value, achieve its purpose, and survive." onclick="selectAnswer('governance', 1, 'an embodiment that interacts with the real world to generate value, achieve its purpose, and survive.', 'an embodiment that interacts with the real world to generate value, achieve its purpose, and survive.')">an embodiment that interacts with the real world to generate value, achieve its purpose, and survive.</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('governance', 1, 'A temporary measure during the transition period', 'an embodiment that interacts with the real world to generate value, achieve its purpose, and survive.')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('governance', 1, 'A deprecated feature from the old system', 'an embodiment that interacts with the real world to generate value, achieve its purpose, and survive.')">A deprecated feature from the old system</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-governance-2">
              <div class="question-text">
                <span class="question-num">Q3.</span> What is ### Layer 5?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('governance', 2, 'A deprecated feature from the old system', 'Where I Live (Embodied Agent)')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="Where I Live (Embodied Agent)" onclick="selectAnswer('governance', 2, 'Where I Live (Embodied Agent)', 'Where I Live (Embodied Agent)')">Where I Live (Embodied Agent)</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('governance', 2, 'A temporary measure during the transition period', 'Where I Live (Embodied Agent)')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('governance', 2, 'An external integration point for third parties', 'Where I Live (Embodied Agent)')">An external integration point for third parties</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-governance-3">
              <div class="question-text">
                <span class="question-num">Q4.</span> "Status:" is a key concept in the Laniakea Governance & Operations system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('governance', 3, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('governance', 3, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-governance-4">
              <div class="question-text">
                <span class="question-num">Q5.</span> "Last Updated:" is a key concept in the Laniakea Governance & Operations system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('governance', 4, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('governance', 4, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-governance-5">
              <div class="question-text">
                <span class="question-num">Q6.</span> "Actuator" is a key concept in the Laniakea Governance & Operations system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('governance', 5, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('governance', 5, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-governance-6">
              <div class="question-text">
                <span class="question-num">Q7.</span> Complete: Generate profit / ______ my teleonome's purpose
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('governance', 6, 'protocol', 'achieve')">protocol</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('governance', 6, 'governance', 'achieve')">governance</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('governance', 6, 'liquidity', 'achieve')">liquidity</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('governance', 6, 'settlement', 'achieve')">settlement</div>
                  
                    <div class="option" data-value="achieve" onclick="selectAnswer('governance', 6, 'achieve', 'achieve')">achieve</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-governance-7">
              <div class="question-text">
                <span class="question-num">Q8.</span> Complete: Learn from real ______ and synome updates
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('governance', 7, 'protocol', 'experience')">protocol</div>
                  
                    <div class="option" data-value="experience" onclick="selectAnswer('governance', 7, 'experience', 'experience')">experience</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('governance', 7, 'governance', 'experience')">governance</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('governance', 7, 'liquidity', 'experience')">liquidity</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('governance', 7, 'settlement', 'experience')">settlement</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-governance-8">
              <div class="question-text">
                <span class="question-num">Q9.</span> Which of these is a major component of the Governance & Operations?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="Manual Override System" onclick="selectAnswer('governance', 8, 'Manual Override System', 'The Actuator\'s Perspective')">Manual Override System</div>
                  
                    <div class="option" data-value="Legacy Migration Protocol" onclick="selectAnswer('governance', 8, 'Legacy Migration Protocol', 'The Actuator\'s Perspective')">Legacy Migration Protocol</div>
                  
                    <div class="option" data-value="External Audit Framework" onclick="selectAnswer('governance', 8, 'External Audit Framework', 'The Actuator\'s Perspective')">External Audit Framework</div>
                  
                    <div class="option" data-value="The Actuator&#39;s Perspective" onclick="selectAnswer('governance', 8, 'The Actuator\'s Perspective', 'The Actuator\'s Perspective')">The Actuator's Perspective</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-governance-9">
              <div class="question-text">
                <span class="question-num">Q10.</span> What is the primary purpose of the Governance & Operations?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="To define and implement governance &amp; operations mechanisms for the Sky ecosystem" onclick="selectAnswer('governance', 9, 'To define and implement governance & operations mechanisms for the Sky ecosystem', 'To define and implement governance & operations mechanisms for the Sky ecosystem')">To define and implement governance & operations mechanisms for the Sky ecosystem</div>
                  
                    <div class="option" data-value="To replace the existing governance structure entirely" onclick="selectAnswer('governance', 9, 'To replace the existing governance structure entirely', 'To define and implement governance & operations mechanisms for the Sky ecosystem')">To replace the existing governance structure entirely</div>
                  
                    <div class="option" data-value="To provide backward compatibility with Maker" onclick="selectAnswer('governance', 9, 'To provide backward compatibility with Maker', 'To define and implement governance & operations mechanisms for the Sky ecosystem')">To provide backward compatibility with Maker</div>
                  
                    <div class="option" data-value="To enable manual intervention in all operations" onclick="selectAnswer('governance', 9, 'To enable manual intervention in all operations', 'To define and implement governance & operations mechanisms for the Sky ecosystem')">To enable manual intervention in all operations</div>
                  
                
              </div>
            </div>
          
          
          <div class="quiz-result" id="result-governance">
            <h4 id="result-title-governance"></h4>
            <p id="result-text-governance"></p>
          </div>
        </div>
        
        <div class="module-nav">
          <button class="btn btn-outline" onclick="showModule('contracts')">â† Previous</button>
          <button class="btn" onclick="showModule('legal')">Next Module â†’</button>
        </div>
      </div>
    
      <div class="module" id="module-legal">
        <div class="module-header">
          <h2>Module 6: Legal & Trading</h2>
          <p>10 quiz questions â€¢ Estimated 15-20 min</p>
        </div>
        
        <div class="content-section">
          <h2>identity-network</h2>
<h1>Identity Network</h1>
<p><strong>Status:</strong> Draft
<strong>Pillar:</strong> 7
<strong>Last Updated:</strong> 2026-01-27</p>
<hr>
<h2>Executive Summary</h2>
<p>An Identity Network is a special type of Halo that operates KYC/identity verification services. Instead of deploying capital into investment strategies, an Identity Network maintains an <strong>on-chain registry</strong> of addresses that have been verified to meet certain criteria (accredited investor, non-US person, qualified purchaser, etc.).</p>
<p>Identity Networks enable permissioned tokens within Sky Ecosystem. When a Halo Unit or Prime token issuer wants to restrict who can hold their token, they configure accepted Identity Networks â€” only addresses with valid attestations from those networks can receive the token.</p>
<p><strong>Key properties:</strong></p>
<ul>
<li>Multiple competing Identity Networks can coexist</li>
<li>On-chain registry for simple address verification</li>
<li>Legal entity performs actual KYC (documents stored off-chain)</li>
<li>Restricted Halo type â€” identity business only, no capital deployment</li>
</ul>
<hr>
<h2>Why Identity Networks Exist</h2>
<h3>The Problem</h3>
<p>Sky Ecosystem enables creation of Halo Units that wrap diverse assets â€” from DeFi positions to private credit to tokenized real-world assets. For many of these products:</p>
<ul>
<li><strong>Issuers prefer known counterparties</strong> â€” Asset managers and originators often want to know who holds their products</li>
<li><strong>Participants prefer verified peers</strong> â€” Institutional investors typically only transact with other verified institutions</li>
<li><strong>Compliance teams require documentation</strong> â€” Many organizations have internal policies requiring counterparty verification</li>
<li><strong>Some jurisdictions have restrictions</strong> â€” Certain products may have geographic or qualification requirements</li>
</ul>
<p>Without identity verification, Sky cannot serve participants who require or prefer permissioned markets.</p>
<h3>The Solution</h3>
<p>Identity Networks provide <strong>attestations</strong> about addresses:</p>
<ul>
<li>&quot;This address belongs to a verified accredited investor&quot;</li>
<li>&quot;This address belongs to a qualified institutional buyer&quot;</li>
<li>&quot;This address belongs to a professional client&quot;</li>
</ul>
<p>Token contracts check these attestations on every transfer. The verification logic is simple: if the recipient has a valid attestation from an accepted Identity Network, the transfer proceeds. This happens at the token level, so any exchange or protocol using these tokens automatically inherits the restrictions.</p>
<h3>Why a Halo Type?</h3>
<p>Identity Networks are structured as Halos because:</p>
<ol>
<li><strong>Governance integration</strong> â€” Subject to Sky oversight and standards</li>
<li><strong>Economic alignment</strong> â€” Network operators earn fees, have skin in the game</li>
<li><strong>Composability</strong> â€” Other Halos and Primes can query attestation status</li>
<li><strong>Accountability</strong> â€” Slashing and penalty mechanisms apply</li>
</ol>
<hr>
<h2>Identity Network as a Halo Type</h2>
<h3>Restrictions vs Regular Halos</h3>
<p>Identity Networks are a <strong>restricted Halo type</strong> with significant limitations compared to standard Halos:</p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Regular Halo</th>
<th>Identity Network</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Primary activity</strong></td>
<td>Deploy capital, generate yield</td>
<td>Operate identity registry</td>
</tr>
<tr>
<td><strong>Revenue source</strong></td>
<td>Investment returns</td>
<td>Membership/verification fees</td>
</tr>
<tr>
<td><strong>Capital deployment</strong></td>
<td>Yes (that&#39;s the point)</td>
<td>No (prohibited)</td>
</tr>
<tr>
<td><strong>Asset custody</strong></td>
<td>Holds assets via PAU</td>
<td>Minimal (operating capital only)</td>
</tr>
<tr>
<td><strong>Risk capital</strong></td>
<td>Required per Risk Framework</td>
<td>Minimal (operational risk only)</td>
</tr>
<tr>
<td><strong>Oversight</strong></td>
<td>Standard Halo governance</td>
<td>Elevated â€” compliance-critical</td>
</tr>
</tbody></table>
<h3>Permitted Activities</h3>
<p>An Identity Network Halo may:</p>
<ul>
<li>Operate an on-chain attestation registry</li>
<li>Control a legal entity that performs KYC verification</li>
<li>Charge membership fees and verification fees</li>
<li>Hold operating capital (not investment capital)</li>
<li>Issue a governance token for network decisions</li>
<li>Participate in cross-recognition agreements with other Identity Networks</li>
</ul>
<p>An Identity Network Halo may NOT:</p>
<ul>
<li>Deploy capital into investment strategies</li>
<li>Accept deposits beyond operating needs</li>
<li>Issue yield-bearing tokens</li>
<li>Operate as a Prime or standard Halo</li>
</ul>
<h3>Economic Model</h3>
<p>Identity Networks generate revenue from:</p>
<table>
<thead>
<tr>
<th>Fee Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Membership fee</strong></td>
<td>Annual/monthly fee for maintaining attestation</td>
</tr>
<tr>
<td><strong>Verification fee</strong></td>
<td>One-time fee for initial KYC processing</td>
</tr>
<tr>
<td><strong>Revalidation fee</strong></td>
<td>Fee for periodic re-verification (e.g., annual)</td>
</tr>
<tr>
<td><strong>API access fee</strong></td>
<td>Fees for high-volume attestation queries</td>
</tr>
<tr>
<td><strong>Cross-recognition fee</strong></td>
<td>Fees from partner networks for mutual recognition</td>
</tr>
</tbody></table>
<p>Fees are set by the Identity Network&#39;s governance. Competition between networks creates pressure for reasonable pricing.</p>
<hr>
<h2>On-Chain Registry</h2>
<h3>Simple Address List</h3>
<p>The on-chain component is intentionally minimal â€” just a list of addresses managed by lpha-identity:</p>
<pre><code>Identity Registry Contract:
  - Storage: set of member addresses
  - Query: isMember(address) â†’ true/false
  - Modify: add(address), remove(address), addBatch([addresses]), removeBatch([addresses])
  - Access: only lpha-identity can modify
</code></pre>
<p>That&#39;s it. A simple address set. No status enums, no metadata, no expiry dates on-chain.</p>
<h3>How It&#39;s Used</h3>
<p>Restrictions are enforced <strong>at the token level</strong>. The Halo Unit issuer configures which Identity Networks are accepted, and the token contract checks membership on every transfer:</p>
<pre><code>Halo Unit transfer check (on every transfer):
  IF restricted transfers enabled:
    FOR each accepted Identity Network:
      IF network.isMember(recipient) â†’ allow transfer
    IF no network accepted recipient â†’ reject transfer
</code></pre>
<p>This is a first-order restriction. Trading restrictions on exchanges are a second-order effect â€” if you can&#39;t receive the token, exchange settlement will naturally fail.</p>
<h3>Who Sets Accepted Networks?</h3>
<p>The <strong>Halo Unit issuer</strong> configures accepted Identity Networks when deploying or updating the token. This is baked into the token contract, not the exchange.</p>
<p>Exchange Halos don&#39;t need separate identity checks â€” they inherit restrictions from the underlying tokens. If a token requires Identity Network membership, exchange settlement will fail for non-members because the token transfer itself fails.</p>
<h3>Beyond Halo Units: Prime Tokens</h3>
<p>Identity Networks aren&#39;t just for Halo Units. <strong>Institutional Primes</strong> also use Identity Networks to restrict holders of their Prime tokens.</p>
<p>Example: An institutional Prime serving only qualified institutional buyers might require all SPK token holders to be members of an Institutional Identity Network. This ensures the Prime&#39;s token holder base meets the Prime&#39;s compliance requirements.</p>
<h3>Multiple Addresses Per Entity</h3>
<p>When registering for KYC, users can choose to add <strong>one or more addresses</strong> to their attestation. This is managed by the Identity Network and its legal entity:</p>
<ul>
<li>User completes KYC once</li>
<li>User provides list of addresses they control</li>
<li>All addresses are added to the on-chain registry</li>
<li>User can request additional addresses later (may require verification)</li>
<li>If attestation expires or is revoked, ALL linked addresses are removed</li>
</ul>
<p>This allows institutions with multiple wallets, or individuals using different addresses for different purposes, to maintain a single KYC relationship.</p>
<h3>Heavy Lifting in Synome</h3>
<p>All the complexity lives off-chain in the Synome:</p>
<table>
<thead>
<tr>
<th>Data</th>
<th>Location</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Address list</strong></td>
<td>On-chain</td>
<td>Simple membership check</td>
</tr>
<tr>
<td><strong>Attestation details</strong></td>
<td>Synome</td>
<td>Type, issue date, expiry, verification level</td>
</tr>
<tr>
<td><strong>Linked addresses</strong></td>
<td>Synome</td>
<td>All addresses belonging to same verified entity</td>
</tr>
<tr>
<td><strong>Jurisdiction info</strong></td>
<td>Synome</td>
<td>Primary jurisdiction of verified entity</td>
</tr>
<tr>
<td><strong>KYC documents</strong></td>
<td>Legal entity (off-chain)</td>
<td>Actual verification records</td>
</tr>
<tr>
<td><strong>Personal identity</strong></td>
<td>Legal entity (off-chain)</td>
<td>Never stored in Synome</td>
</tr>
</tbody></table>
<p>lpha-identity handles the translation: it monitors Synome for attestation changes, expiries, and revocations, then updates the simple on-chain list accordingly.</p>
<h3>Why This Design?</h3>
<table>
<thead>
<tr>
<th>Concern</th>
<th>Solution</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Gas efficiency</strong></td>
<td>Simple boolean check is cheap</td>
</tr>
<tr>
<td><strong>Flexibility</strong></td>
<td>Complex logic can change in Synome without contract upgrades</td>
</tr>
<tr>
<td><strong>Privacy</strong></td>
<td>On-chain only reveals membership, not why or how</td>
</tr>
<tr>
<td><strong>Simplicity</strong></td>
<td>Other contracts just call <code>isMember()</code> â€” no complex integration</td>
</tr>
</tbody></table>
<hr>
<h2>Multiple Networks Model</h2>
<h3>Competition and Specialization</h3>
<p>Multiple Identity Networks can operate simultaneously, each specializing in different:</p>
<p><strong>Jurisdictions:</strong></p>
<ul>
<li>US Identity Network (accredited investors, QIBs)</li>
<li>EU Identity Network (MiFID II professional clients)</li>
<li>APAC Identity Network (regional qualifications)</li>
</ul>
<p><strong>Investor Types:</strong></p>
<ul>
<li>Accredited Investor Network (income/net worth thresholds)</li>
<li>Institutional Network (banks, funds, registered advisors)</li>
<li>Qualified Purchaser Network (higher thresholds for private funds)</li>
</ul>
<p><strong>Verification Standards:</strong></p>
<ul>
<li>FATF-compliant Network (AML/KYC to FATF standards)</li>
<li>Enhanced Due Diligence Network (higher verification thresholds)</li>
<li>Regional Networks (jurisdiction-specific requirements)</li>
</ul>
<h3>Token Configuration</h3>
<p>The <strong>Halo Unit issuer</strong> (or Prime token issuer) configures accepted Identity Networks at deployment:</p>
<pre><code>Token Configuration (set by issuer):
  - Accepted Networks: list of Identity Networks whose members can receive the token
  - If empty: unrestricted, anyone can hold/receive
</code></pre>
<p><strong>Examples:</strong></p>
<table>
<thead>
<tr>
<th>Token</th>
<th>Accepted Networks</th>
<th>Rationale</th>
</tr>
</thead>
<tbody><tr>
<td>USDS</td>
<td>None (unrestricted)</td>
<td>Open to all</td>
</tr>
<tr>
<td>SKY</td>
<td>None (unrestricted)</td>
<td>Open to all</td>
</tr>
<tr>
<td>JAAA-Halo Unit</td>
<td>US Accredited, Non-US QIB</td>
<td>Issuer requires verified holders</td>
</tr>
<tr>
<td>Private-Credit-Halo Unit</td>
<td>Institutional only</td>
<td>Institutional-only product</td>
</tr>
<tr>
<td>Institutional-Prime Token</td>
<td>Institutional only</td>
<td>Prime restricts token holder base</td>
</tr>
</tbody></table>
<hr>
<h2>Legal Entity Operations</h2>
<h3>Structure</h3>
<p>Each Identity Network controls a legal entity that performs actual KYC:</p>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Identity Network Halo                   â”‚
â”‚                   (On-chain governance)                  â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Identity Registry                      â”‚ â”‚
â”‚  â”‚         (On-chain: simple address list)             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                               â”‚
â”‚                    controls                              â”‚
â”‚                          â–¼                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Legal Entity                           â”‚ â”‚
â”‚  â”‚  (Foundation, LLC, or regulated entity)             â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  - Receives KYC applications                        â”‚ â”‚
â”‚  â”‚  - Verifies documents                               â”‚ â”‚
â”‚  â”‚  - Stores records (off-chain)                       â”‚ â”‚
â”‚  â”‚  - Updates Synome â†’ lpha-identity syncs to chain     â”‚ â”‚
â”‚  â”‚  - Handles disputes, appeals, revocations           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3>KYC Processing Flow</h3>
<pre><code>1. APPLY
   User submits application + documents to legal entity

2. VERIFY
   Legal entity reviews documents
   - Identity verification (passport, ID)
   - Qualification verification (income, net worth, professional status)
   - Sanctions/AML screening

3. DECISION
   Legal entity approves or denies
   â†’ If approved: attestation recorded in Synome with expiry date
                  lpha-identity adds address to on-chain list
   â†’ If denied: application rejected, not added

4. MAINTAIN
   Periodic revalidation (e.g., annually)
   â†’ User re-submits required documents
   â†’ Synome attestation extended, address remains on list

5. EXPIRE / REVOKE
   â†’ Expiry: lpha-identity removes address when expiry date passes
   â†’ Revocation: legal entity revokes in Synome, lpha-identity removes address
</code></pre>
<h3>Regulatory Compliance</h3>
<p>The legal entity must comply with:</p>
<ul>
<li><strong>AML/KYC regulations</strong> in its jurisdiction</li>
<li><strong>Data protection</strong> (GDPR, CCPA, etc.)</li>
<li><strong>Record retention</strong> requirements</li>
<li><strong>Sanctions screening</strong> (OFAC, EU, UN lists)</li>
</ul>
<p>The Identity Network Halo provides the governance framework; the legal entity handles regulatory compliance.</p>
<h3>Revocation Procedures</h3>
<p>Attestations can be revoked for:</p>
<ul>
<li><strong>Fraud</strong> â€” Falsified documents or misrepresentation</li>
<li><strong>Change in status</strong> â€” No longer meets qualification criteria</li>
<li><strong>Sanctions listing</strong> â€” Added to sanctions list</li>
<li><strong>Request</strong> â€” User requests removal</li>
<li><strong>Legal order</strong> â€” Court order or regulatory action</li>
</ul>
<p>Revocation is immediate â€” legal entity marks revoked in Synome, lpha-identity removes address from on-chain list.</p>
<hr>
<h2>Sentinel Integration (lpha-identity)</h2>
<h3>Overview</h3>
<p><strong>lpha-identity</strong> is the Sentinel that manages an Identity Network&#39;s on-chain address list.</p>
<p><strong>Level:</strong> Per Identity Network
<strong>Operator:</strong> Identity Network GovOps / Legal Entity Operations</p>
<h3>Role</h3>
<p>lpha-identity is the bridge between off-chain verification and on-chain membership:</p>
<pre><code>Legal Entity â†’ Synome â†’ lpha-identity â†’ On-chain Registry
   (KYC)      (state)    (executor)      (simple list)
</code></pre>
<ol>
<li>Legal entity performs KYC, updates attestation in Synome</li>
<li>lpha-identity monitors Synome for changes</li>
<li>When attestation becomes active â†’ lpha-identity calls <code>add(address)</code></li>
<li>When attestation expires/revoked â†’ lpha-identity calls <code>remove(address)</code></li>
</ol>
<h3>Responsibilities</h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Add members</strong></td>
<td>When Synome shows new valid attestation, add to on-chain list</td>
</tr>
<tr>
<td><strong>Remove members</strong></td>
<td>When Synome shows expiry/revocation, remove from on-chain list</td>
</tr>
<tr>
<td><strong>Expiry monitoring</strong></td>
<td>Watch Synome for upcoming expiries, remove when they hit</td>
</tr>
<tr>
<td><strong>Batch updates</strong></td>
<td>Process multiple adds/removes efficiently</td>
</tr>
</tbody></table>
<h3>Security Model</h3>
<ul>
<li><strong>Sole writer</strong> â€” Only lpha-identity can modify the on-chain registry</li>
<li><strong>Synome as source of truth</strong> â€” lpha-identity only acts on Synome state</li>
<li><strong>Audit trail</strong> â€” All changes logged in Synome with timestamps</li>
<li><strong>Rate limits</strong> â€” Maximum updates per period (prevents spam/abuse)</li>
</ul>
<hr>
<h2>Connection to Sky Intents</h2>
<p>Identity Networks enable restricted tokens to trade on Sky Intents (see <code>sky-intents.md</code>).</p>
<h3>How It Works</h3>
<p>Restrictions are enforced at the <strong>token level</strong>, not the exchange level:</p>
<ol>
<li><p><strong>Token Transfer Check</strong></p>
<ul>
<li>When exchange settlement executes, the token contract checks if recipient is in an accepted Identity Network</li>
<li>If recipient is not a member â†’ token transfer reverts â†’ entire settlement fails</li>
<li>Exchange doesn&#39;t need separate identity logic â€” it inherits from token</li>
</ul>
</li>
<li><p><strong>Order Visibility (Optional)</strong></p>
<ul>
<li>Exchange Halo may</li>
</ul>
</li>
</ol>

        </div>
        
        <div class="quiz-section">
          <h3>Module Quiz (10 Questions)</h3>
          <div class="quiz-progress" id="quiz-progress-legal">
            <div class="quiz-dot" data-q="0"></div><div class="quiz-dot" data-q="1"></div><div class="quiz-dot" data-q="2"></div><div class="quiz-dot" data-q="3"></div><div class="quiz-dot" data-q="4"></div><div class="quiz-dot" data-q="5"></div><div class="quiz-dot" data-q="6"></div><div class="quiz-dot" data-q="7"></div><div class="quiz-dot" data-q="8"></div><div class="quiz-dot" data-q="9"></div>
          </div>
          
          
            <div class="question" id="q-legal-0">
              <div class="question-text">
                <span class="question-num">Q1.</span> What is Identity Networks enable permissioned tokens within Sky Ecosystem. When a Halo Unit or Prime token issuer wants to restrict who can hold their token, they configure accepted Identity Networks?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('legal', 0, 'A deprecated feature from the old system', 'only addresses with valid attestations from those networks can receive the token.')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('legal', 0, 'A temporary measure during the transition period', 'only addresses with valid attestations from those networks can receive the token.')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('legal', 0, 'An external integration point for third parties', 'only addresses with valid attestations from those networks can receive the token.')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="only addresses with valid attestations from those networks can receive the token." onclick="selectAnswer('legal', 0, 'only addresses with valid attestations from those networks can receive the token.', 'only addresses with valid attestations from those networks can receive the token.')">only addresses with valid attestations from those networks can receive the token.</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-legal-1">
              <div class="question-text">
                <span class="question-num">Q2.</span> What is Restricted Halo type?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('legal', 1, 'A deprecated feature from the old system', 'identity business only, no capital deployment')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="identity business only, no capital deployment" onclick="selectAnswer('legal', 1, 'identity business only, no capital deployment', 'identity business only, no capital deployment')">identity business only, no capital deployment</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('legal', 1, 'A temporary measure during the transition period', 'identity business only, no capital deployment')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('legal', 1, 'An external integration point for third parties', 'identity business only, no capital deployment')">An external integration point for third parties</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-legal-2">
              <div class="question-text">
                <span class="question-num">Q3.</span> What is Sky Ecosystem enables creation of Halo Units that wrap diverse assets?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('legal', 2, 'A temporary measure during the transition period', 'from DeFi positions to private credit to tokenized real-world assets. For many of these products:')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('legal', 2, 'An external integration point for third parties', 'from DeFi positions to private credit to tokenized real-world assets. For many of these products:')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="from DeFi positions to private credit to tokenized real-world assets. For many of these products:" onclick="selectAnswer('legal', 2, 'from DeFi positions to private credit to tokenized real-world assets. For many of these products:', 'from DeFi positions to private credit to tokenized real-world assets. For many of these products:')">from DeFi positions to private credit to tokenized real-world assets. For many of these products:</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('legal', 2, 'A deprecated feature from the old system', 'from DeFi positions to private credit to tokenized real-world assets. For many of these products:')">A deprecated feature from the old system</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-legal-3">
              <div class="question-text">
                <span class="question-num">Q4.</span> "Status:" is a key concept in the Laniakea Legal & Trading system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('legal', 3, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('legal', 3, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-legal-4">
              <div class="question-text">
                <span class="question-num">Q5.</span> "Pillar:" is a key concept in the Laniakea Legal & Trading system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('legal', 4, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('legal', 4, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-legal-5">
              <div class="question-text">
                <span class="question-num">Q6.</span> "Last Updated:" is a key concept in the Laniakea Legal & Trading system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('legal', 5, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('legal', 5, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-legal-6">
              <div class="question-text">
                <span class="question-num">Q7.</span> Complete: Multiple competing Identity ______ can coexist
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('legal', 6, 'liquidity', 'Networks')">liquidity</div>
                  
                    <div class="option" data-value="Networks" onclick="selectAnswer('legal', 6, 'Networks', 'Networks')">Networks</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('legal', 6, 'settlement', 'Networks')">settlement</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('legal', 6, 'governance', 'Networks')">governance</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('legal', 6, 'protocol', 'Networks')">protocol</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-legal-7">
              <div class="question-text">
                <span class="question-num">Q8.</span> Complete: On-chain registry for ______ address verification
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="simple" onclick="selectAnswer('legal', 7, 'simple', 'simple')">simple</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('legal', 7, 'protocol', 'simple')">protocol</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('legal', 7, 'liquidity', 'simple')">liquidity</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('legal', 7, 'governance', 'simple')">governance</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('legal', 7, 'settlement', 'simple')">settlement</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-legal-8">
              <div class="question-text">
                <span class="question-num">Q9.</span> Complete: Restricted Halo type â€” identity ______ only, no capital deployment
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('legal', 8, 'liquidity', 'business')">liquidity</div>
                  
                    <div class="option" data-value="business" onclick="selectAnswer('legal', 8, 'business', 'business')">business</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('legal', 8, 'governance', 'business')">governance</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('legal', 8, 'protocol', 'business')">protocol</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('legal', 8, 'settlement', 'business')">settlement</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-legal-9">
              <div class="question-text">
                <span class="question-num">Q10.</span> Which of these is a major component of the Legal & Trading?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="External Audit Framework" onclick="selectAnswer('legal', 9, 'External Audit Framework', 'Identity Network')">External Audit Framework</div>
                  
                    <div class="option" data-value="Identity Network" onclick="selectAnswer('legal', 9, 'Identity Network', 'Identity Network')">Identity Network</div>
                  
                    <div class="option" data-value="Manual Override System" onclick="selectAnswer('legal', 9, 'Manual Override System', 'Identity Network')">Manual Override System</div>
                  
                    <div class="option" data-value="Legacy Migration Protocol" onclick="selectAnswer('legal', 9, 'Legacy Migration Protocol', 'Identity Network')">Legacy Migration Protocol</div>
                  
                
              </div>
            </div>
          
          
          <div class="quiz-result" id="result-legal">
            <h4 id="result-title-legal"></h4>
            <p id="result-text-legal"></p>
          </div>
        </div>
        
        <div class="module-nav">
          <button class="btn btn-outline" onclick="showModule('governance')">â† Previous</button>
          <button class="btn" onclick="showModule('forecast')">Next Module â†’</button>
        </div>
      </div>
    
      <div class="module" id="module-forecast">
        <div class="module-header">
          <h2>Module 7: Forecast Model</h2>
          <p>10 quiz questions â€¢ Estimated 15-20 min</p>
        </div>
        
        <div class="content-section">
          <h2>forecast-model-strategy</h2>
<h1>Sky Forecast Model Strategy</h1>
<p><strong>Status:</strong> Draft
<strong>Last Updated:</strong> 2026-01-27</p>
<hr>
<blockquote>
<p><strong>Note on Simplifications:</strong> This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staking) rather than the full 5-step waterfall defined in the whitepaper (which includes Fortification Conserver and Smart Burn Engine as separate steps). The backstop allocation uses a fixed rate rather than the dynamic formula based on buffer fill level. These simplifications allow for clearer scenario modeling while the full TMF mechanics are documented in <code>whitepaper/appendix-a-protocol-features.md</code> and <code>whitepaper/appendix-c-treasury-management-function.md</code>.</p>
</blockquote>
<hr>
<h2>Overview</h2>
<p>A modular Python forecast model for Sky. Calculates monthly results, aggregates to quarters. Features flexible input specification with persistent changes, one-time impulses, value trajectories, scenario inheritance, and named time periods.</p>
<hr>
<h2>Design Principles</h2>
<h3>1. Monthly Granularity</h3>
<pre><code>Month 1 â†’ Month 2 â†’ Month 3  =  Q1 (sum)
Month 4 â†’ Month 5 â†’ Month 6  =  Q2 (sum)
...
</code></pre>
<ul>
<li><strong>Base unit:</strong> 1 month</li>
<li><strong>Period factor:</strong> <code>1/12</code> (monthly portion of annual rate)</li>
<li><strong>Agent activity:</strong> Binary â€” active if <code>current_month &gt;= launch_month</code></li>
</ul>
<h3>2. Calculation Order</h3>
<pre><code>Rate Derivations â†’ Agent Valuations â†’ Supply â†’ Revenue â†’ Waterfall
</code></pre>
<h3>3. Input Resolution Order</h3>
<p>For each month, inputs are resolved in this order:</p>
<pre><code>1. Load base scenario (if `extends` specified)
2. Start with `baseline` values
3. Compute `trajectories` for this month
4. Apply `changes` (cumulative, persistent)
5. Apply `impulses` (this month only, then reset)
6. Process `events` list (alternative syntax)
</code></pre>
<h3>4. Conventions</h3>
<table>
<thead>
<tr>
<th>Convention</th>
<th>Rule</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Money</strong></td>
<td>Base unit USD. Format with &quot;M&quot; suffix in outputs only.</td>
</tr>
<tr>
<td><strong>Rates</strong></td>
<td>Annualized decimals as strings (<code>&quot;0.0370&quot;</code>).</td>
</tr>
<tr>
<td><strong>Period factor</strong></td>
<td>Monthly = <code>1/12</code>.</td>
</tr>
<tr>
<td><strong>Signs</strong></td>
<td>Costs are negative (<code>subsidized_borrow: -650000</code>).</td>
</tr>
<tr>
<td><strong>Months</strong></td>
<td>1=Jan, 12=Dec. Multi-year: 13=Year2 Jan, etc.</td>
</tr>
</tbody></table>
<hr>
<h2>Directory Structure</h2>
<pre><code>forecast_model/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ agents.yaml
â”‚   â”‚   â””â”€â”€ model.yaml
â”‚   â””â”€â”€ scenarios/
â”‚       â”œâ”€â”€ base_2025.yaml
â”‚       â”œâ”€â”€ bull_2025.yaml      # extends: base_2025
â”‚       â””â”€â”€ bear_2025.yaml
â”‚
â”œâ”€â”€ src/skyforecast/
â”‚   â”œâ”€â”€ core/                   # Pure calculations
â”‚   â”‚   â”œâ”€â”€ rates.py
â”‚   â”‚   â”œâ”€â”€ agents.py
â”‚   â”‚   â”œâ”€â”€ supply.py
â”‚   â”‚   â”œâ”€â”€ revenue.py
â”‚   â”‚   â””â”€â”€ waterfall.py
â”‚   â”œâ”€â”€ loaders/
â”‚   â”‚   â”œâ”€â”€ models.py           # Pydantic models
â”‚   â”‚   â”œâ”€â”€ yaml_loader.py
â”‚   â”‚   â””â”€â”€ resolver.py         # Input resolution logic
â”‚   â”œâ”€â”€ outputs/
â”‚   â”‚   â””â”€â”€ markdown.py
â”‚   â”œâ”€â”€ engine.py
â”‚   â””â”€â”€ cli.py
</code></pre>
<hr>
<h2>Configuration Format</h2>
<h3>Feature 1: Baseline + Changes + Impulses</h3>
<pre><code class="language-yaml">name: &quot;Base 2025&quot;
months: 12

baseline:
  spark_market_cap: 350000000
  base_usds: 9650000000
  sofr: &quot;0.0370&quot;
  # ... all default values

# Persistent level changes (carry forward until next change)
changes:
  3:
    sofr: &quot;0.0360&quot;
  7:
    spark_market_cap: 450000000
    base_usds: 12000000000

# One-time events (apply only to that month, reset after)
impulses:
  10:
    backstop_withdrawal: 5000000
  6:
    one_time_income: 2000000
</code></pre>
<p><strong>Resolution:</strong></p>
<ul>
<li><code>changes</code> accumulate: month 8 still has <code>spark_market_cap: 450000000</code></li>
<li><code>impulses</code> reset: month 11 has <code>backstop_withdrawal: 0</code></li>
</ul>
<hr>
<h3>Feature 2: Events List (Alternative Syntax)</h3>
<pre><code class="language-yaml">events:
  - month: 4
    type: set                    # persistent change
    values:
      base_usds: 10500000000

  - month: 7
    type: set
    values:
      spark_market_cap: 450000000

  - month: 10
    type: impulse                # one-time only
    values:
      backstop_withdrawal: 5000000

  - month: 6
    type: agent_launch
    agent: grove
</code></pre>
<p><strong>Note:</strong> <code>events</code> and <code>changes</code>/<code>impulses</code> can coexist; events are processed last.</p>
<hr>
<h3>Feature 3: Trajectories (Interpolation)</h3>
<pre><code class="language-yaml">trajectories:
  base_usds:
    points:
      1: 9650000000
      6: 12000000000
      12: 16000000000
    mode: linear                 # interpolate between points

  spark_market_cap:
    points:
      1: 350000000
      7: 450000000
    mode: step                   # jump at point, hold until next
</code></pre>
<p><strong>Modes:</strong></p>
<ul>
<li><code>step</code>: Value jumps at specified month, holds until next point</li>
<li><code>linear</code>: Linear interpolation between points</li>
</ul>
<hr>
<h3>Feature 4: Scenario Inheritance</h3>
<pre><code class="language-yaml"># bull_2025.yaml
extends: base_2025

# Override baseline values
baseline:
  spark_market_cap: 500000000

# Add/override changes
changes:
  5:
    base_usds: 13000000000

# Add impulses
impulses:
  4:
    launch_bonus: 5000000
</code></pre>
<p><strong>Resolution:</strong></p>
<ol>
<li>Load <code>base_2025.yaml</code> fully</li>
<li>Merge <code>baseline</code> (child overrides parent)</li>
<li>Merge <code>changes</code> (child adds/overrides specific months)</li>
<li>Merge <code>impulses</code> (child adds/overrides specific months)</li>
<li>Merge <code>trajectories</code>, <code>events</code>, <code>agent_launches</code></li>
</ol>
<hr>
<h3>Feature 5: Named Periods</h3>
<pre><code class="language-yaml">periods:
  h1: [1, 2, 3, 4, 5, 6]
  h2: [7, 8, 9, 10, 11, 12]
  q1: [1, 2, 3]
  q2: [4, 5, 6]
  q3: [7, 8, 9]
  q4: [10, 11, 12]

# Use named periods anywhere month numbers are accepted
changes:
  h2:                            # applies to month 7 (first of period)
    security_rate: &quot;0.15&quot;
  q4:
    spark_market_cap: 500000000

impulses:
  q2:                            # applies to month 4 (first of period)
    mid_year_bonus: 3000000

agent_launches:
  grove: q2                      # launches month 4
  obex: h2                       # launches month 7
</code></pre>
<p><strong>Resolution:</strong> Named periods resolve to their first month for point-in-time events (launches, changes), or expand for ranges where applicable.</p>
<hr>
<h2>Complete Example</h2>
<pre><code class="language-yaml">name: &quot;Base 2025&quot;
description: &quot;Conservative baseline projection&quot;
months: 12

# Named periods for convenience
periods:
  h1: [1, 2, 3, 4, 5, 6]
  h2: [7, 8, 9, 10, 11, 12]

# Agent launches (month number or period name)
agent_launches:
  spark: 1
  grove: 4
  keel: 6
  obex: h2

# Default values for all months
baseline:
  spark_market_cap: 350000000
  base_usds: 9650000000
  unrewarded_usds_user: 3700000000
  sofr: &quot;0.0370&quot;
  savings_rate_spread: &quot;0.0030&quot;
  gross_revenue_rate_spread: &quot;0.0030&quot;
  farm_yield_spread: &quot;0.0040&quot;
  sell_token_rate: &quot;0.25&quot;
  security_rate: &quot;0.20&quot;
  subsidized_borrow: -650000
  srusds_cost: -400000

# Values that change over time (interpolated)
trajectories:
  base_usds:
    points:
      1: 9650000000
      12: 16000000000
    mode: linear

# Discrete level changes (persist)
changes:
  3:
    sofr: &quot;0.0360&quot;
  h2:
    spark_market_cap: 450000000
    security_rate: &quot;0.15&quot;

# One-time events (don&#39;t persist)
impulses:
  10:
    backstop_withdrawal: 5000000
</code></pre>
<hr>
<h2>Core Modules</h2>
<h3><code>resolver.py</code> â€” Input Resolution</h3>
<pre><code class="language-python">def resolve_month_inputs(
    month: int,
    baseline: dict,
    changes: dict[int, dict],
    impulses: dict[int, dict],
    trajectories: dict[str, Trajectory],
    periods: dict[str, list[int]],
) -&gt; dict:
    &quot;&quot;&quot;
    Resolve all inputs for a specific month.

    Order:
    1. Start with baseline
    2. Apply trajectories (computed values)
    3. Apply cumulative changes up to this month
    4. Apply impulses for this month only
    &quot;&quot;&quot;
    result = baseline.copy()

    # Apply trajectories
    for field, traj in trajectories.items():
        result[field] = traj.value_at(month)

    # Apply cumulative changes
    for m in range(1, month + 1):
        if m in changes:
            result.update(changes[m])

    # Apply impulses (this month only)
    if month in impulses:
        result.update(impulses[month])

    return result


def resolve_period_name(
    value: int | str,
    periods: dict[str, list[int]],
) -&gt; int:
    &quot;&quot;&quot;Convert period name to month number (first month of period).&quot;&quot;&quot;
    if isinstance(value, int):
        return value
    if value in periods:
        return periods[value][0]
    raise ValueError(f&quot;Unknown period: {value}&quot;)
</code></pre>
<h3><code>agents.py</code> â€” Binary Active/Inactive</h3>
<pre><code class="language-python">def is_agent_active(launch_month: int, current_month: int) -&gt; bool:
    &quot;&quot;&quot;Agent is active if current month &gt;= launch month.&quot;&quot;&quot;
    return launch_month &gt; 0 and current_month &gt;= launch_month

def aggregate_active_agents(
    agents: list[AgentDefinition],
    agent_launches: dict[str, int],
    current_month: int,
    spark_market_cap: Decimal,
) -&gt; tuple[Decimal, Decimal]:
    &quot;&quot;&quot;Sum active agent values by type. Returns (farmable, sellable).&quot;&quot;&quot;
    farmable = Decimal(&quot;0&quot;)
    sellable = Decimal(&quot;0&quot;)

    for agent in agents:
        launch = agent_launches.get(agent.name, 0)
        if is_agent_active(launch, current_month):
            value = calculate_agent_value(agent, spark_market_cap)
            if agent.agent_type == &quot;FARM&quot;:
                farmable += value
            else:
                sellable += value

    return farmable, sellable
</code></pre>
<h3><code>engine.py</code> â€” Monthly Loop</h3>
<pre><code class="language-python">def run_scenario(scenario: ResolvedScenario) -&gt; ScenarioResults:
    &quot;&quot;&quot;Run all months and aggregate to quarters.&quot;&quot;&quot;
    monthly_results = []

    for month in range(1, scenario.months + 1):
        inputs = resolve_month_inputs(month, ...)
        result = run_month(month, inputs, ...)
        monthly_results.append(result)

    # Aggregate to quarters
    quarters = [
        aggregate_quarter(monthly_results[0:3]),   # Q1
        aggregate_quarter(monthly_results[3:6]),   # Q2
        aggregate_quarter(monthly_results[6:9]),   # Q3
        aggregate_quarter(monthly_results[9:12]),  # Q4
    ]

    return ScenarioResults(
        monthly=monthly_results,
        quarterly=quarters,
        annual=aggregate_annual(quarters),
    )
</code></pre>
<hr>
<h2>Output Format</h2>
<pre><code class="language-markdown"># Base 2025

## Q1 (Jan-Mar)

| Month | USDS Supply | Gross Rev | Net Rev | Staking |
|-------|-------------|-----------|---------|---------|
| Jan   | 9,800.00M   | 35.12M    | 18.54M  | 10.85M  |
| Feb   | 10,060.00M  | 36.05M    | 19.10M  | 11.18M  |
| Mar   | 10,320.00M  | 36.98M    | 19.67M  | 11.51M  |
| **Q1**| â€”           | **108.15M** | **57.31M** | **33.54M** |

## Q2 (Apr-Jun)
...

## Annual Summary

| Quarter | Gross Revenue | Net Revenue | Staking Rewards |
|---------|---------------|-------------|-----------------|
| Q1      | 108.15M       | 57.31M      | 33.54M          |
| Q2      | 121.40M       | 65.22M      | 38.15M          |
| Q3      | 145.80M       | 80.50M      | 47.09M          |
| Q4      | 162.30M       | 91.45M      | 53.50M          |
| **Year**| **537.65M**   | **294.48M** | **172.28M**     |
</code></pre>
<hr>
<h2>Implementation Checklist</h2>
<h3>Phase 1: Monthly Engine</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> Project scaffolding</li>
<li><input checked="" disabled="" type="checkbox"> Core calculation modules</li>
<li><input disabled="" type="checkbox"> Config models (baseline, changes, impulses, trajectories, periods)</li>
<li><input disabled="" type="checkbox"> Input resolver</li>
<li><input disabled="" type="checkbox"> Scenario inheritance loader</li>
<li><input disabled="" type="checkbox"> Named period resolution</li>
<li><input disabled="" type="checkbox"> Monthly engine loop</li>
<li><input disabled="" type="checkbox"> Quarterly aggregation</li>
<li><input disabled="" type="checkbox"> Updated markdown output</li>
</ul>
<h3>Phase 2: Polish</h3>
<ul>
<li><input disabled="" type="checkbox"> Scenario comparison</li>
<li><input disabled="" type="checkbox"> JSON export</li>
<li><input disabled="" type="checkbox"> Multi-year support</li>
</ul>
<hr>
<p><em>This strategy document serves as the blueprint for implementation.</em></p>

        </div>
        
        <div class="quiz-section">
          <h3>Module Quiz (10 Questions)</h3>
          <div class="quiz-progress" id="quiz-progress-forecast">
            <div class="quiz-dot" data-q="0"></div><div class="quiz-dot" data-q="1"></div><div class="quiz-dot" data-q="2"></div><div class="quiz-dot" data-q="3"></div><div class="quiz-dot" data-q="4"></div><div class="quiz-dot" data-q="5"></div><div class="quiz-dot" data-q="6"></div><div class="quiz-dot" data-q="7"></div><div class="quiz-dot" data-q="8"></div><div class="quiz-dot" data-q="9"></div>
          </div>
          
          
            <div class="question" id="q-forecast-0">
              <div class="question-text">
                <span class="question-num">Q1.</span> What is > **Note on Simplifications?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('forecast', 0, 'A temporary measure during the transition period', '** This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staki...')">A temporary measure during the transition period</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('forecast', 0, 'A deprecated feature from the old system', '** This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staki...')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="** This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staki..." onclick="selectAnswer('forecast', 0, '** This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staki...', '** This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staki...')">** This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staki...</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('forecast', 0, 'An external integration point for third parties', '** This forecast model is intentionally simplified for practical forecasting purposes. It implements a 3-step TMF waterfall (Security, Backstop, Staki...')">An external integration point for third parties</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-1">
              <div class="question-text">
                <span class="question-num">Q2.</span> What is Period factor?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('forecast', 1, 'An external integration point for third parties', '** `1/12` (monthly portion of annual rate)')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('forecast', 1, 'A deprecated feature from the old system', '** `1/12` (monthly portion of annual rate)')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="** `1/12` (monthly portion of annual rate)" onclick="selectAnswer('forecast', 1, '** `1/12` (monthly portion of annual rate)', '** `1/12` (monthly portion of annual rate)')">** `1/12` (monthly portion of annual rate)</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('forecast', 1, 'A temporary measure during the transition period', '** `1/12` (monthly portion of annual rate)')">A temporary measure during the transition period</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-2">
              <div class="question-text">
                <span class="question-num">Q3.</span> What is Agent activity?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="A deprecated feature from the old system" onclick="selectAnswer('forecast', 2, 'A deprecated feature from the old system', '** Binary â€” active if `current_month >= launch_month`')">A deprecated feature from the old system</div>
                  
                    <div class="option" data-value="** Binary â€” active if `current_month &gt;= launch_month`" onclick="selectAnswer('forecast', 2, '** Binary â€” active if `current_month >= launch_month`', '** Binary â€” active if `current_month >= launch_month`')">** Binary â€” active if `current_month >= launch_month`</div>
                  
                    <div class="option" data-value="An external integration point for third parties" onclick="selectAnswer('forecast', 2, 'An external integration point for third parties', '** Binary â€” active if `current_month >= launch_month`')">An external integration point for third parties</div>
                  
                    <div class="option" data-value="A temporary measure during the transition period" onclick="selectAnswer('forecast', 2, 'A temporary measure during the transition period', '** Binary â€” active if `current_month >= launch_month`')">A temporary measure during the transition period</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-3">
              <div class="question-text">
                <span class="question-num">Q4.</span> "Status:" is a key concept in the Laniakea Forecast Model system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('forecast', 3, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('forecast', 3, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-4">
              <div class="question-text">
                <span class="question-num">Q5.</span> "Last Updated:" is a key concept in the Laniakea Forecast Model system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('forecast', 4, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('forecast', 4, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-5">
              <div class="question-text">
                <span class="question-num">Q6.</span> "Note on Simplifications:" is a key concept in the Laniakea Forecast Model system.
              </div>
              <div class="options">
                
                  <div class="option" data-value="true" onclick="selectAnswer('forecast', 5, true, true)">True</div>
                  <div class="option" data-value="false" onclick="selectAnswer('forecast', 5, false, true)">False</div>
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-6">
              <div class="question-text">
                <span class="question-num">Q7.</span> Complete: **Period factor:** `1/12` (monthly ______ of annual rate)
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('forecast', 6, 'liquidity', 'portion')">liquidity</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('forecast', 6, 'protocol', 'portion')">protocol</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('forecast', 6, 'settlement', 'portion')">settlement</div>
                  
                    <div class="option" data-value="portion" onclick="selectAnswer('forecast', 6, 'portion', 'portion')">portion</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('forecast', 6, 'governance', 'portion')">governance</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-7">
              <div class="question-text">
                <span class="question-num">Q8.</span> Complete: **Agent activity:** Binary â€” ______ if `current_month >= launch_month`
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('forecast', 7, 'protocol', 'active')">protocol</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('forecast', 7, 'governance', 'active')">governance</div>
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('forecast', 7, 'settlement', 'active')">settlement</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('forecast', 7, 'liquidity', 'active')">liquidity</div>
                  
                    <div class="option" data-value="active" onclick="selectAnswer('forecast', 7, 'active', 'active')">active</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-8">
              <div class="question-text">
                <span class="question-num">Q9.</span> Complete: `changes` accumulate: month 8 ______ has `spark_market_cap: 450000000`
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="settlement" onclick="selectAnswer('forecast', 8, 'settlement', 'still')">settlement</div>
                  
                    <div class="option" data-value="governance" onclick="selectAnswer('forecast', 8, 'governance', 'still')">governance</div>
                  
                    <div class="option" data-value="liquidity" onclick="selectAnswer('forecast', 8, 'liquidity', 'still')">liquidity</div>
                  
                    <div class="option" data-value="protocol" onclick="selectAnswer('forecast', 8, 'protocol', 'still')">protocol</div>
                  
                    <div class="option" data-value="still" onclick="selectAnswer('forecast', 8, 'still', 'still')">still</div>
                  
                
              </div>
            </div>
          
            <div class="question" id="q-forecast-9">
              <div class="question-text">
                <span class="question-num">Q10.</span> Which of these is a major component of the Forecast Model?
              </div>
              <div class="options">
                
                  
                    <div class="option" data-value="Sky Forecast Model Strategy" onclick="selectAnswer('forecast', 9, 'Sky Forecast Model Strategy', 'Sky Forecast Model Strategy')">Sky Forecast Model Strategy</div>
                  
                    <div class="option" data-value="Manual Override System" onclick="selectAnswer('forecast', 9, 'Manual Override System', 'Sky Forecast Model Strategy')">Manual Override System</div>
                  
                    <div class="option" data-value="External Audit Framework" onclick="selectAnswer('forecast', 9, 'External Audit Framework', 'Sky Forecast Model Strategy')">External Audit Framework</div>
                  
                    <div class="option" data-value="Legacy Migration Protocol" onclick="selectAnswer('forecast', 9, 'Legacy Migration Protocol', 'Sky Forecast Model Strategy')">Legacy Migration Protocol</div>
                  
                
              </div>
            </div>
          
          
          <div class="quiz-result" id="result-forecast">
            <h4 id="result-title-forecast"></h4>
            <p id="result-text-forecast"></p>
          </div>
        </div>
        
        <div class="module-nav">
          <button class="btn btn-outline" onclick="showModule('legal')">â† Previous</button>
          <button class="btn" onclick="showComplete()">Complete Course</button>
        </div>
      </div>
    
    
    <div class="last-updated">
      Last updated: 2026-02-04 â€¢ Auto-generated from laniakea-docs
    </div>
  </div>
  
  <script>
    const moduleQuestions = [{"id":"intro","count":10},{"id":"whitepaper","count":10},{"id":"risk","count":10},{"id":"contracts","count":10},{"id":"governance","count":10},{"id":"legal","count":10},{"id":"forecast","count":10}];
    const state = {
      answers: {},
      correct: {},
      modulesCompleted: new Set()
    };
    
    function showModule(id) {
      document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
      document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
      document.getElementById('module-' + id).classList.add('active');
      document.querySelector('[data-module="' + id + '"]').classList.add('active');
      window.scrollTo(0, 0);
    }
    
    function selectAnswer(moduleId, qIndex, selected, correct) {
      const key = moduleId + '-' + qIndex;
      if (state.answers[key] !== undefined) return;
      
      state.answers[key] = selected;
      const isCorrect = String(selected) === String(correct);
      state.correct[key] = isCorrect;
      
      const question = document.getElementById('q-' + key);
      const options = question.querySelectorAll('.option');
      options.forEach(opt => {
        opt.classList.add('disabled');
        const val = opt.dataset.value;
        if (val === String(correct)) opt.classList.add('correct');
        else if (val === String(selected) && !isCorrect) opt.classList.add('incorrect');
      });
      
      // Update quiz progress dots
      const dot = document.querySelector('#quiz-progress-' + moduleId + ' [data-q="' + qIndex + '"]');
      dot.classList.add('answered', isCorrect ? 'correct' : 'incorrect');
      
      updateProgress();
      checkModuleComplete(moduleId);
    }
    
    function checkModuleComplete(moduleId) {
      const moduleQ = moduleQuestions.find(m => m.id === moduleId);
      let answered = 0;
      let correct = 0;
      for (let i = 0; i < moduleQ.count; i++) {
        const key = moduleId + '-' + i;
        if (state.answers[key] !== undefined) {
          answered++;
          if (state.correct[key]) correct++;
        }
      }
      
      if (answered === moduleQ.count) {
        const pct = Math.round((correct / moduleQ.count) * 100);
        const passed = pct >= 70;
        
        const result = document.getElementById('result-' + moduleId);
        result.classList.add('show', passed ? 'pass' : 'fail');
        document.getElementById('result-title-' + moduleId).textContent = passed ? 'âœ… Module Complete!' : 'âŒ Need More Practice';
        document.getElementById('result-text-' + moduleId).textContent = 'Score: ' + pct + '% (' + correct + '/' + moduleQ.count + ')' + (passed ? '' : ' - 70% required to pass');
        
        if (passed) {
          state.modulesCompleted.add(moduleId);
          document.querySelector('[data-module="' + moduleId + '"]').classList.add('completed');
        }
        
        updateProgress();
      }
    }
    
    function updateProgress() {
      const totalQ = moduleQuestions.reduce((s, m) => s + m.count, 0);
      const answered = Object.keys(state.answers).length;
      const correct = Object.values(state.correct).filter(v => v).length;
      
      const pct = Math.round((answered / totalQ) * 100);
      document.getElementById('progress-fill').style.width = pct + '%';
      document.getElementById('progress-text').textContent = pct + '%';
      document.getElementById('modules-completed').textContent = state.modulesCompleted.size;
      document.getElementById('questions-answered').textContent = answered;
      document.getElementById('current-score').textContent = answered > 0 ? Math.round((correct / answered) * 100) : 0;
      
      localStorage.setItem('laniakea-progress', JSON.stringify(state));
    }
    
    function showComplete() {
      alert('ğŸ‰ Congratulations! You have completed the Laniakea Mastery Course!');
    }
    
    // Load saved progress
    try {
      const saved = localStorage.getItem('laniakea-progress');
      if (saved) {
        const parsed = JSON.parse(saved);
        Object.assign(state, parsed);
        state.modulesCompleted = new Set(parsed.modulesCompleted || []);
        
        // Restore UI state
        for (const [key, val] of Object.entries(state.answers)) {
          const [moduleId, qIndex] = key.split('-');
          const question = document.getElementById('q-' + key);
          if (question) {
            const options = question.querySelectorAll('.option');
            options.forEach(opt => {
              opt.classList.add('disabled');
            });
          }
        }
        updateProgress();
      }
    } catch (e) {}
  </script>
</body>
</html>